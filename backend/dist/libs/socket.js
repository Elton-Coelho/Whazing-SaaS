'use strict';
const A = b, B = b;
(function (c, d) {
    const y = b, z = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(y(0x1d3)) / (0x1 * 0x15e6 + 0x1 * 0x210a + 0x31 * -0x11f) * (parseInt(y(0x15b)) / (0x10 * 0x10c + -0x1e2 * 0x4 + 0x83 * -0x12)) + parseInt(z(0x179)) / (-0x4ec + 0x178a + -0x129b) + -parseInt(z(0x1c5)) / (0x1e2 + -0x1c53 + 0xd * 0x209) * (-parseInt(y(0x177)) / (0x2 * 0x12bf + -0x1 * -0x1613 + -0x2 * 0x1dc6)) + parseInt(z(0x190)) / (0x13 * 0x18e + -0x472 * -0x2 + -0x2668) * (-parseInt(z(0x185)) / (-0x1 * -0x1a02 + 0x7 * 0x2e7 + -0x4 * 0xb93)) + -parseInt(z(0x1bf)) / (-0xcbd * -0x1 + 0xf * -0x161 + 0x7fa) * (-parseInt(y(0x151)) / (-0x1d4c + 0x2499 + -0x744)) + parseInt(y(0x18b)) / (-0xb * -0x363 + -0x168a + 0xdd * -0x11) + -parseInt(y(0x194)) / (-0x10af + 0x2 * 0x95 + -0x2 * -0x7c8);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x5ce03 + -0x1c354 + -0x8ed5));
function a() {
    const a0 = [
        'profile',
        'et\x20channel',
        'HiFtB',
        'logger',
        ':userVerif',
        'jiGdr',
        'erty',
        '../errors/',
        'tion\x20error',
        'MZShH',
        'BuWQc',
        'id:\x20',
        'not\x20initia',
        'jpANz',
        '__esModule',
        'mENVn',
        'use',
        'socket.io-',
        'brHXU',
        'ied',
        'nected\x20,\x20',
        'value',
        'dldWc',
        'lastOnline',
        'srGjX',
        'ned\x20a\x20tick',
        '22446FwVmpZ',
        'isValid',
        'edoNd',
        'adapter',
        'tokenInval',
        'HGQDE',
        'rhExh',
        'qSPyG',
        'origin',
        'register',
        '141934lTWWOo',
        './decodeTo',
        'cors',
        'IiKvN',
        'AppError',
        'userId',
        'ion',
        'wTmeK',
        '\x20tickets\x20c',
        'APjwv',
        'IauUv',
        'pingInterv',
        'ePNYX',
        'at/Chat',
        'dKurU',
        'message',
        'ORHkD',
        'SERNAME',
        'LlVyy',
        'getIO',
        'DCSwD',
        'Hnkct',
        'tenantId',
        'status',
        'fication\x20c',
        'User',
        'IO_REDIS_S',
        'UIKnz',
        '3935FItbNA',
        'jOeEY',
        '506223odcopc',
        'FsAgz',
        'wEaTu',
        'authentica',
        'gHakC',
        'tQxPS',
        'RMIWG',
        'ImvSG',
        'bZNoG',
        'kJHtw',
        'dyASC',
        'hannel.',
        '928417zpuSML',
        'tusUser',
        'WCJpU',
        'fault',
        'defineProp',
        'default',
        '1316210uibNqM',
        'ASSWORD',
        'Mzhjf',
        'connection',
        'oined\x20to\x20',
        '6DbnhUQ',
        'XSVtI',
        'warn',
        ':notificat',
        '887865ldjxxr',
        '../utils/l',
        './socketCh',
        'attributes',
        'mEVGJ',
        'uYOcU',
        'IO_REDIS_P',
        'nHayd',
        ':updateSta',
        'OyVjb',
        'KXEft',
        'join',
        'info',
        'Client\x20con',
        'redis',
        'socket.io',
        'auth',
        'VWasC',
        'disconnect',
        'ORT',
        'update',
        'jDvXd',
        'findByPk',
        'lized',
        'qTLgj',
        'TvFIE',
        'Socket\x20IO\x20',
        'IrPqs',
        'env',
        'hYHjj',
        'user',
        'toString',
        'email',
        'oined\x20noti',
        'bREzq',
        'lDbBe',
        'mniXn',
        'EWjjS',
        'emit',
        'EKNqZ',
        'A\x20client\x20j',
        'IVCwd',
        'cTqPC',
        '112yuYlfl',
        '__importDe',
        'initIO',
        'IO_REDIS_U',
        'id:',
        'kjMau',
        '180HramIt',
        'data',
        'asEpU',
        'optVy',
        'token',
        'pingTimeou',
        'Dxunq',
        'nected\x20in\x20',
        'CQrFq',
        'kenSocket',
        'hannel\x20',
        'isOnline',
        'tPWHY',
        'eXWHk',
        '1DGzcfQ',
        'zJWKy',
        'name',
        ':joinNotif',
        'iVdaY',
        'Client\x20joi',
        'PEfKb',
        'ogger',
        'iNEwj',
        'jNzHH',
        'ication',
        'ERVER',
        'handshake',
        'Server',
        ':joinTicke',
        ':joinChatB',
        'lastLogin',
        'YYZZe',
        'AJjwE',
        'ent\x20discon',
        'UrITN',
        '../models/',
        'JonpH',
        'tenant',
        'SOCKET\x20Cli'
    ];
    a = function () {
        return a0;
    };
    return a();
}
var __importDefault = this && this[A(0x1c0) + B(0x188)] || function (c) {
    const C = B;
    return c && c[C(0x1fa)] ? c : { 'default': c };
};
const o = {};
o[B(0x14c)] = !![], Object[A(0x189) + A(0x1f2)](exports, B(0x1fa), o), exports[A(0x16e)] = exports[A(0x1c1)] = void (-0x362 * -0x1 + 0x16e2 + -0x1a44);
const socket_io_1 = require(A(0x1a3)), socket_io_redis_1 = __importDefault(require(B(0x148) + B(0x1a2))), AppError_1 = __importDefault(require(A(0x1f3) + A(0x15f))), decodeTokenSocket_1 = __importDefault(require(A(0x15c) + B(0x1ce))), logger_1 = require(A(0x195) + B(0x1da)), User_1 = __importDefault(require(B(0x1e8) + A(0x174))), Chat_1 = __importDefault(require(A(0x196) + A(0x168)));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x133a + -0xd8 * 0xc + 0x1f5 * -0x4);
        let h = e[f];
        return h;
    }, b(c, d);
}
let io;
const initIO = e => {
    const D = A, E = A, f = {
            'HGQDE': function (k, l) {
                return k === l;
            },
            'hYHjj': D(0x1b8),
            'iVdaY': function (k, l) {
                return k !== l;
            },
            'edoNd': D(0x178),
            'HiFtB': D(0x1e5),
            'jiGdr': function (k, l) {
                return k === l;
            },
            'DCSwD': E(0x1bb),
            'IVCwd': function (k, l) {
                return k(l);
            },
            'YYZZe': function (k, l) {
                return k(l);
            },
            'PEfKb': D(0x171),
            'Hnkct': E(0x1d5),
            'eXWHk': E(0x1b4),
            'iNEwj': E(0x1ec),
            'bREzq': E(0x172),
            'IiKvN': E(0x1e3),
            'LlVyy': D(0x14e),
            'jpANz': function (k) {
                return k();
            },
            'ORHkD': function (k, l) {
                return k(l);
            },
            'RMIWG': D(0x17c) + E(0x1f4),
            'zJWKy': function (k, l) {
                return k !== l;
            },
            'lDbBe': E(0x182),
            'Mzhjf': D(0x183),
            'BuWQc': function (k, l) {
                return k === l;
            },
            'asEpU': E(0x1af),
            'KXEft': E(0x19b),
            'optVy': E(0x1ae) + E(0x1f8) + D(0x1ab),
            'gHakC': function (k, l) {
                return k !== l;
            },
            'wTmeK': E(0x1a9),
            'ImvSG': E(0x1ac),
            'Dxunq': function (k, l) {
                return k !== l;
            },
            'MZShH': D(0x176),
            'jNzHH': E(0x1b9),
            'rhExh': function (k, l) {
                return k(l);
            },
            'XSVtI': function (k, l) {
                return k !== l;
            },
            'tQxPS': E(0x146),
            'dKurU': D(0x187),
            'wEaTu': D(0x1a1) + E(0x1cc) + E(0x1ea),
            'bZNoG': D(0x1a6),
            'ePNYX': E(0x18e)
        }, g = {};
    g[E(0x159)] = '*';
    const h = {};
    h[D(0x15d)] = g, h[E(0x1ca) + 't'] = 0x2bf20, h[D(0x166) + 'al'] = 0xea60, io = new socket_io_1[(D(0x1e0))](e, h);
    const i = {
            'host': process[E(0x1b0)][E(0x175) + E(0x1de)],
            'port': f[D(0x157)](Number, process[E(0x1b0)][D(0x19a) + D(0x1a7)]),
            'username': process[D(0x1b0)][E(0x1c2) + E(0x16c)],
            'password': process[D(0x1b0)][D(0x19a) + E(0x18c)]
        }, j = socket_io_redis_1[D(0x18a)];
    return io[E(0x154)](f[E(0x157)](j, i)), io[D(0x147)](async (k, l) => {
        const F = D, G = E;
        if (f[F(0x156)](f[F(0x1b1)], f[G(0x1b1)]))
            try {
                if (f[F(0x1d7)](f[G(0x153)], f[G(0x1ee)])) {
                    const m = k?.[G(0x1df)]?.[F(0x1a4)]?.[G(0x1c9)], n = (0x71 * 0x3f + -0x1a7c + -0x3 * 0x71, decodeTokenSocket_1[F(0x18a)])(m);
                    if (n[G(0x152)]) {
                        if (f[F(0x1f1)](f[F(0x16f)], f[G(0x16f)])) {
                            const p = k?.[F(0x1df)]?.[G(0x1a4)];
                            k[G(0x1df)][G(0x1a4)] = {
                                ...p,
                                ...n[G(0x1c6)],
                                'id': f[F(0x1bd)](String, n[G(0x1c6)]['id']),
                                'tenantId': f[F(0x1e4)](String, n[F(0x1c6)][G(0x171)])
                            };
                            const q = {};
                            q[F(0x197)] = [
                                'id',
                                f[F(0x1d9)],
                                f[F(0x170)],
                                f[F(0x1d2)],
                                f[G(0x1db)],
                                f[F(0x1b6)],
                                f[F(0x15e)],
                                f[F(0x16d)]
                            ];
                            const r = await User_1[G(0x18a)][F(0x1aa)](n[G(0x1c6)]['id'], q);
                            k[F(0x1df)][G(0x1a4)][F(0x1b2)] = r, f[G(0x1f9)](l);
                        } else
                            i[G(0x1ef)][G(0x1a0)](G(0x1d8) + F(0x150) + F(0x1ed) + '\x20' + j + ':' + k), l[G(0x19f)](m + ':' + n);
                    }
                    f[G(0x16b)](l, new Error(f[F(0x17f)]));
                } else
                    i[F(0x1ef)][G(0x1a0)](G(0x1bc) + F(0x18f) + j + ':' + k + (G(0x163) + F(0x184))), l[G(0x19f)](m + ':' + n);
            } catch (u) {
                if (f[G(0x1d4)](f[G(0x1b7)], f[F(0x18d)]))
                    logger_1[F(0x1ef)][F(0x192)](G(0x155) + G(0x1f7) + k), k[G(0x1ba)](F(0x155) + G(0x1c3) + k['id']), f[G(0x1e4)](l, new Error(f[G(0x17f)]));
                else {
                    const w = {};
                    return w[G(0x18a)] = j, g && h[G(0x1fa)] ? i : w;
                }
            }
        else {
            const x = {};
            x[G(0x16a)] = G(0x1eb) + G(0x1e6) + G(0x14b) + g + ',\x20' + h, x[F(0x1ef)][F(0x1a0)](x);
        }
    }), io['on'](f[D(0x167)], k => {
        const I = E, J = E, l = {
                'UrITN': function (n, p) {
                    const H = b;
                    return f[H(0x1f6)](n, p);
                },
                'FsAgz': f[I(0x1c7)],
                'uYOcU': f[I(0x19e)],
                'CQrFq': f[J(0x1c8)],
                'srGjX': function (n, p) {
                    const K = I;
                    return f[K(0x17d)](n, p);
                },
                'mEVGJ': f[I(0x162)],
                'tPWHY': f[J(0x180)],
                'cTqPC': function (n, p) {
                    const L = J;
                    return f[L(0x1cb)](n, p);
                },
                'APjwv': f[J(0x1f5)],
                'VWasC': f[I(0x1dc)],
                'dldWc': function (n, p) {
                    const M = I;
                    return f[M(0x157)](n, p);
                },
                'brHXU': f[I(0x17f)],
                'IauUv': function (n, p) {
                    const N = J;
                    return f[N(0x191)](n, p);
                },
                'kjMau': f[J(0x17e)],
                'qSPyG': f[I(0x169)]
            }, {tenantId: m} = k[J(0x1df)][J(0x1a4)];
        if (m) {
            const n = {};
            n[I(0x16a)] = f[J(0x17b)], n[J(0x1c6)] = k[I(0x1df)][J(0x1a4)], logger_1[I(0x1ef)][I(0x1a0)](n), k[J(0x19f)](m[J(0x1b3)]()), k['on'](m + (I(0x1f0) + J(0x14a)), async p => {
                const O = J, P = I;
                if (l[O(0x1e7)](l[O(0x17a)], l[O(0x199)]))
                    g[P(0x1ef)][P(0x1a0)](O(0x1bc) + O(0x1b5) + O(0x173) + O(0x1cf) + h + (P(0x193) + P(0x161))), i[P(0x19f)](j + (O(0x193) + P(0x161)));
                else {
                    const r = await User_1[P(0x18a)][P(0x1aa)](p[P(0x160)]), s = {};
                    s[P(0x1d0)] = !![], await r[P(0x1a8)](s), k[P(0x1ba)](p[O(0x171)] + (P(0x19c) + P(0x186)), r);
                }
            }), k['on'](m + (J(0x1e2) + 'ox'), p => {
                const Q = J, R = I, q = {};
                q[Q(0x1ad)] = l[R(0x1cd)];
                const r = q;
                if (l[R(0x14f)](l[R(0x198)], l[Q(0x1d1)]))
                    logger_1[Q(0x1ef)][R(0x1a0)](R(0x1d8) + R(0x150) + R(0x1ed) + '\x20' + m + ':' + p), k[Q(0x19f)](m + ':' + p);
                else {
                    if (!q)
                        throw new i[(R(0x18a))](r[R(0x1ad)]);
                    return h;
                }
            }), k['on'](m + (I(0x1d6) + J(0x1dd)), () => {
                const S = I, T = I, p = {};
                p[S(0x1e9)] = l[T(0x1cd)];
                const q = p;
                if (l[T(0x1be)](l[T(0x164)], l[T(0x1a5)]))
                    logger_1[T(0x1ef)][T(0x1a0)](T(0x1bc) + S(0x1b5) + S(0x173) + T(0x1cf) + m + (T(0x193) + S(0x161))), k[S(0x19f)](m + (S(0x193) + T(0x161)));
                else
                    throw new h[(T(0x18a))](q[S(0x1e9)]);
            }), k['on'](m + (I(0x1e1) + 'ts'), p => {
                const U = I, V = J;
                l[U(0x165)](l[V(0x1c4)], l[U(0x158)]) ? (logger_1[V(0x1ef)][V(0x1a0)](V(0x1bc) + V(0x18f) + m + ':' + p + (U(0x163) + U(0x184))), k[V(0x19f)](m + ':' + p)) : (i[V(0x1ef)][U(0x192)](U(0x155) + V(0x1f7) + j), k[U(0x1ba)](U(0x155) + V(0x1c3) + l['id']), l[V(0x14d)](m, new n(l[V(0x149)])));
            }), Chat_1[I(0x18a)][J(0x15a)](k);
        }
        k['on'](f[J(0x181)], p => {
            const W = J, X = I, q = {};
            q[W(0x16a)] = X(0x1eb) + W(0x1e6) + W(0x14b) + m + ',\x20' + p, logger_1[W(0x1ef)][X(0x1a0)](q);
        });
    }), io;
};
exports[A(0x1c1)] = initIO;
const getIO = () => {
    const Y = B, Z = B, d = {};
    d[Y(0x19d)] = Y(0x1ae) + Z(0x1f8) + Z(0x1ab);
    const e = d;
    if (!io)
        throw new AppError_1[(Z(0x18a))](e[Y(0x19d)]);
    return io;
};
exports[A(0x16e)] = getIO;