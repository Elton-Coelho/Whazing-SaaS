'use strict';
const z = b, A = b;
(function (c, d) {
    const x = b, y = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(x(0x175)) / (-0x2 * -0x325 + -0x125 + -0x524) * (-parseInt(x(0x159)) / (-0x1fd3 * 0x1 + -0xb0f + 0x2ae4)) + parseInt(x(0xdb)) / (0x19f1 + 0x4fe + -0x2 * 0xf76) * (parseInt(y(0x109)) / (-0x3d * -0x35 + 0x13 * -0x209 + 0x1a0e)) + -parseInt(x(0xf7)) / (0x188d + 0x64b + -0x1ed3 * 0x1) * (-parseInt(x(0xca)) / (0x43 * 0x38 + -0x42 * 0x49 + 0x430)) + -parseInt(y(0x168)) / (0x27c + 0x2b * 0x7d + -0x4f * 0x4c) * (-parseInt(y(0x14e)) / (-0x2 * -0x1322 + -0x113f + 0x3 * -0x6ff)) + -parseInt(y(0xd7)) / (-0x51c + 0x23d5 * -0x1 + 0x419 * 0xa) + parseInt(y(0x107)) / (-0x5dd * 0x6 + 0x932 + 0xd03 * 0x2) * (-parseInt(x(0x166)) / (-0x2 * -0xc61 + 0x945 * -0x4 + -0x41f * -0x3)) + parseInt(x(0xd5)) / (0x7 * 0x1ad + -0x27 * -0x4a + -0x9 * 0x28d) * (-parseInt(y(0x111)) / (-0x17a1 + -0x43 * -0x2b + 0x1 * 0xc6d));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0xe886e + 0xb837c + -0x7 * 0x23a67));
var __importDefault = this && this[z(0xf0) + A(0x16f)] || function (c) {
    const B = z;
    return c && c[B(0xf2)] ? c : { 'default': c };
};
const o = {};
function a() {
    const Y = [
        'env',
        'hannel.',
        'tvtxu',
        'plbOz',
        'connection',
        'pTemT',
        'initIO',
        'uyjlp',
        '__importDe',
        'sByRl',
        '__esModule',
        'et\x20channel',
        'xzEff',
        'ASSWORD',
        'auth',
        '5380930HurXMc',
        '../models/',
        'LjGpR',
        'oined\x20noti',
        'IYfJG',
        'isOnline',
        'data',
        'lastOnline',
        'use',
        'rqzbo',
        'tTqOb',
        'AtPYl',
        'Tceqo',
        'ned\x20a\x20tick',
        'RwhyT',
        'IIDEK',
        '9430EJVEkl',
        'pingTimeou',
        '2081164qSSOGy',
        'SoCLT',
        'value',
        'fication\x20c',
        'default',
        'hannel\x20',
        'ent\x20discon',
        'YGfKI',
        '255047NaTisU',
        'UatcT',
        'lllKI',
        ':joinNotif',
        'at/Chat',
        'update',
        'ymXVb',
        'tion\x20error',
        'getIO',
        'origin',
        'redis',
        'bHxWc',
        'haYRs',
        'userId',
        'evKYJ',
        'adapter',
        'mhROa',
        'tusUser',
        'IO_REDIS_U',
        'defineProp',
        'SOCKET\x20Cli',
        'SfqqQ',
        'pingInterv',
        'message',
        'cors',
        'SaanA',
        'ORT',
        'ied',
        'info',
        'OHidA',
        'LiBkV',
        'OmBvG',
        'iUvUM',
        'MvbYk',
        'ion',
        'erty',
        'status',
        'Socket\x20IO\x20',
        'bCzeB',
        'join',
        ':userVerif',
        'A\x20client\x20j',
        'tokenInval',
        'AppError',
        'LUMDM',
        '\x20tickets\x20c',
        'tenant',
        'register',
        'tGtJq',
        '../utils/l',
        'XmPnc',
        'mgHSd',
        'MPlrn',
        'KhnQG',
        'ication',
        'XcZft',
        'IdhSz',
        'mzBlN',
        'gfJrl',
        'IO_REDIS_P',
        'tenantId',
        '8ydQcsl',
        ':updateSta',
        'profile',
        'yEjcZ',
        'id:\x20',
        'socket.io',
        'user',
        'dQnxc',
        'authentica',
        'FXxfB',
        'ivtfd',
        '274748fJBvtP',
        'FHIpn',
        'ERVER',
        'vmwDq',
        'jSXRm',
        'ttLEU',
        './decodeTo',
        'toString',
        'IO_REDIS_S',
        'emit',
        'token',
        'Server',
        'nected\x20in\x20',
        '5489fbkFtH',
        'caEkR',
        '6490141FsVHoB',
        'lastLogin',
        'zFIKJ',
        ':joinTicke',
        'kenSocket',
        './socketCh',
        'ogger',
        'fault',
        'cTxUo',
        'igsqb',
        'hxASv',
        'not\x20initia',
        'IRswz',
        '3HEoBtm',
        'SERNAME',
        'email',
        'lized',
        'disconnect',
        'JyaXH',
        'socket.io-',
        'BKOnq',
        '6BeIJuu',
        'User',
        'UWTAZ',
        'attributes',
        'isValid',
        'uKgET',
        'lNBkE',
        ':joinChatB',
        'WwxqI',
        'btElJ',
        'nected\x20,\x20',
        '708VQGNMo',
        'YUHTc',
        '10288350iyYDMS',
        ':notificat',
        '../errors/',
        'oined\x20to\x20',
        '6ufTuOc',
        'Client\x20joi',
        'handshake',
        'FxnYG',
        'name',
        'logger',
        'findByPk',
        'warn',
        'slPOr',
        'augZf',
        'id:',
        'Client\x20con',
        'QJoGL'
    ];
    a = function () {
        return Y;
    };
    return a();
}
o[A(0x10b)] = !![], Object[z(0x124) + A(0x134)](exports, A(0xf2), o), exports[A(0x119)] = exports[z(0xee)] = void (0x239b + 0x6c2 + -0x9 * 0x4b5);
const socket_io_1 = require(z(0x153)), socket_io_redis_1 = __importDefault(require(z(0xc8) + z(0x11b))), AppError_1 = __importDefault(require(A(0xd9) + z(0x13c))), decodeTokenSocket_1 = __importDefault(require(z(0x15f) + z(0x16c))), logger_1 = require(A(0x142) + z(0x16e)), User_1 = __importDefault(require(z(0xf8) + z(0xcb))), Chat_1 = __importDefault(require(A(0x16d) + z(0x115)));
let io;
const initIO = e => {
    const C = z, D = z, f = {
            'UWTAZ': function (k, l) {
                return k !== l;
            },
            'FxnYG': C(0xd0),
            'tTqOb': D(0x143),
            'bCzeB': function (k, l) {
                return k === l;
            },
            'Tceqo': C(0x141),
            'lllKI': D(0xf4),
            'yEjcZ': function (k, l) {
                return k === l;
            },
            'OmBvG': C(0x126),
            'btElJ': function (k, l) {
                return k(l);
            },
            'KhnQG': function (k, l) {
                return k(l);
            },
            'augZf': C(0x14d),
            'WwxqI': C(0xdf),
            'IdhSz': D(0x177),
            'mgHSd': C(0x150),
            'hxASv': C(0x135),
            'QJoGL': C(0x169),
            'FHIpn': C(0xfe),
            'igsqb': function (k) {
                return k();
            },
            'haYRs': function (k, l) {
                return k(l);
            },
            'mhROa': C(0x156) + D(0x118),
            'jSXRm': function (k, l) {
                return k === l;
            },
            'rqzbo': C(0x102),
            'dQnxc': D(0x16a),
            'ttLEU': function (k, l) {
                return k(l);
            },
            'plbOz': D(0xf1),
            'slPOr': C(0x136) + D(0x173) + D(0x178),
            'IYfJG': function (k, l) {
                return k !== l;
            },
            'IRswz': D(0x15c),
            'YUHTc': D(0xcf),
            'caEkR': function (k, l) {
                return k === l;
            },
            'LUMDM': D(0x105),
            'SaanA': D(0xc9),
            'uyjlp': C(0x11f),
            'LjGpR': D(0x106),
            'FXxfB': C(0xe6) + C(0x165) + C(0x13f),
            'ymXVb': C(0xc6),
            'iUvUM': function (k, l) {
                return k(l);
            },
            'LiBkV': C(0xec)
        }, g = {};
    g[C(0x11a)] = '*';
    const h = {};
    h[C(0x129)] = g, h[C(0x108) + 't'] = 0x2bf20, h[D(0x127) + 'al'] = 0xea60, io = new socket_io_1[(C(0x164))](e, h);
    const i = {
            'host': process[D(0xe8)][D(0x161) + C(0x15b)],
            'port': f[C(0x11d)](Number, process[D(0xe8)][C(0x14c) + D(0x12b)]),
            'username': process[C(0xe8)][D(0x123) + D(0x176)],
            'password': process[D(0xe8)][C(0x14c) + D(0xf5)]
        }, j = socket_io_redis_1[C(0x10d)];
    return io[D(0x120)](f[D(0x131)](j, i)), io[C(0xff)](async (k, l) => {
        const E = D, F = D;
        if (f[E(0xcc)](f[F(0xde)], f[F(0x101)]))
            try {
                if (f[F(0x137)](f[F(0x103)], f[E(0x113)])) {
                    const n = {};
                    return n[E(0x10d)] = j, g && h[F(0xf2)] ? i : n;
                } else {
                    const n = k?.[E(0xdd)]?.[F(0xf6)]?.[F(0x163)], p = (0x24f * 0x4 + -0x155e + 0xc22, decodeTokenSocket_1[E(0x10d)])(n);
                    if (p[E(0xce)]) {
                        if (f[F(0x151)](f[E(0x130)], f[F(0x130)])) {
                            const q = k?.[F(0xdd)]?.[E(0xf6)];
                            k[E(0xdd)][F(0xf6)] = {
                                ...q,
                                ...p[F(0xfd)],
                                'id': f[F(0xd3)](String, p[E(0xfd)]['id']),
                                'tenantId': f[E(0x146)](String, p[F(0xfd)][E(0x14d)])
                            };
                            const r = {};
                            r[F(0xcd)] = [
                                'id',
                                f[F(0xe4)],
                                f[E(0xd2)],
                                f[F(0x149)],
                                f[E(0x144)],
                                f[E(0x172)],
                                f[E(0xe7)],
                                f[F(0x15a)]
                            ];
                            const s = await User_1[E(0x10d)][F(0xe1)](p[F(0xfd)]['id'], r);
                            k[F(0xdd)][E(0xf6)][E(0x154)] = s, f[F(0x171)](l);
                        } else {
                            const u = {};
                            u[E(0x128)] = F(0x125) + E(0x10f) + F(0xd4) + g + ',\x20' + h, u[E(0xe0)][E(0x12d)](u);
                        }
                    }
                    f[F(0x11d)](l, new Error(f[E(0x121)]));
                }
            } catch (u) {
                f[F(0x15d)](f[F(0x100)], f[F(0x155)]) ? (g[F(0xe0)][F(0x12d)](F(0x13a) + E(0xfa) + F(0x10c) + E(0x10e) + h + (E(0xd8) + F(0x133))), i[E(0x138)](j + (E(0xd8) + E(0x133)))) : (logger_1[E(0xe0)][F(0xe2)](F(0x13b) + F(0x152) + k), k[F(0x162)](E(0x13b) + E(0xe5) + k['id']), f[E(0x15e)](l, new Error(f[E(0x121)])));
            }
        else
            i[F(0xe0)][E(0x12d)](F(0x13a) + F(0xda) + j + ':' + k + (E(0x13e) + E(0xe9))), l[E(0x138)](m + ':' + n);
    }), io['on'](f[D(0x12f)], k => {
        const G = C, I = C, l = {
                'MvbYk': f[G(0xe3)],
                'gfJrl': function (n, p) {
                    const H = G;
                    return f[H(0xfb)](n, p);
                },
                'SoCLT': f[I(0x174)],
                'bHxWc': f[I(0xd6)],
                'mzBlN': function (n, p) {
                    const J = G;
                    return f[J(0x167)](n, p);
                },
                'OHidA': f[G(0x13d)],
                'ivtfd': f[I(0x12a)],
                'MPlrn': function (n, p) {
                    const K = I;
                    return f[K(0xcc)](n, p);
                },
                'XcZft': f[I(0xef)],
                'YGfKI': f[I(0xf9)]
            }, {tenantId: m} = k[G(0xdd)][G(0xf6)];
        if (m) {
            const n = {};
            n[I(0x128)] = f[I(0x157)], n[I(0xfd)] = k[I(0xdd)][I(0xf6)], logger_1[G(0xe0)][I(0x12d)](n), k[G(0x138)](m[G(0x160)]()), k['on'](m + (I(0x139) + G(0x12c)), async p => {
                const L = I, M = I, q = {};
                q[L(0x170)] = l[L(0x132)];
                const r = q;
                if (l[M(0x14b)](l[M(0x10a)], l[L(0x11c)])) {
                    const s = await User_1[M(0x10d)][M(0xe1)](p[L(0x11e)]), t = {};
                    t[L(0xfc)] = !![], await s[M(0x116)](t), k[M(0x162)](p[M(0x14d)] + (M(0x14f) + M(0x122)), s);
                } else
                    throw new h[(L(0x10d))](r[L(0x170)]);
            }), k['on'](m + (I(0xd1) + 'ox'), p => {
                const N = I, O = G;
                l[N(0x14a)](l[N(0x12e)], l[N(0x158)]) ? (i[O(0xe0)][N(0x12d)](N(0xdc) + N(0x104) + O(0xf3) + '\x20' + j + ':' + k), l[N(0x138)](m + ':' + n)) : (logger_1[O(0xe0)][O(0x12d)](N(0xdc) + O(0x104) + O(0xf3) + '\x20' + m + ':' + p), k[O(0x138)](m + ':' + p));
            }), k['on'](m + (G(0x114) + G(0x147)), () => {
                const P = I, Q = I, p = {};
                p[P(0xc7)] = l[P(0x132)];
                const q = p;
                if (l[Q(0x145)](l[Q(0x148)], l[Q(0x110)]))
                    logger_1[P(0xe0)][P(0x12d)](Q(0x13a) + P(0xfa) + Q(0x10c) + Q(0x10e) + m + (Q(0xd8) + Q(0x133))), k[P(0x138)](m + (Q(0xd8) + P(0x133)));
                else {
                    if (!p)
                        throw new i[(Q(0x10d))](q[P(0xc7)]);
                    return h;
                }
            }), k['on'](m + (I(0x16b) + 'ts'), p => {
                const S = G, T = I, q = {
                        'tvtxu': function (r, s) {
                            const R = b;
                            return f[R(0x15e)](r, s);
                        },
                        'UatcT': f[S(0x121)]
                    };
                f[T(0xcc)](f[S(0xeb)], f[T(0xeb)]) ? (i[S(0xe0)][T(0xe2)](S(0x13b) + T(0x152) + j), k[S(0x162)](T(0x13b) + T(0xe5) + l['id']), q[T(0xea)](m, new n(q[S(0x112)]))) : (logger_1[S(0xe0)][S(0x12d)](S(0x13a) + S(0xda) + m + ':' + p + (T(0x13e) + S(0xe9))), k[T(0x138)](m + ':' + p));
            }), Chat_1[I(0x10d)][I(0x140)](k);
        }
        k['on'](f[I(0x117)], p => {
            const U = I, V = G, q = {};
            q[U(0x128)] = U(0x125) + V(0x10f) + U(0xd4) + m + ',\x20' + p, logger_1[V(0xe0)][V(0x12d)](q);
        });
    }), io;
};
exports[A(0xee)] = initIO;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x21d1 + -0x10 * 0x67 + -0x1a9b);
        let h = e[f];
        return h;
    }, b(c, d);
}
const getIO = () => {
    const W = z, X = A, d = {};
    d[W(0xed)] = X(0x136) + W(0x173) + W(0x178);
    const e = d;
    if (!io)
        throw new AppError_1[(W(0x10d))](e[W(0xed)]);
    return io;
};
exports[z(0x119)] = getIO;