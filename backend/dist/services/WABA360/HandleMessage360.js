'use strict';
const u = b, v = b;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x1ca5 + 0x143d + -0xb9 * -0xd);
        let h = e[f];
        return h;
    }, b(c, d);
}
(function (c, d) {
    const s = b, t = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(s(0x10d)) / (0x22a + 0x29 * 0xf0 + -0x2899 * 0x1) + -parseInt(t(0x102)) / (0x14c4 + -0x5 * 0x40 + -0x1382) * (parseInt(s(0x100)) / (0x34 * -0x3b + 0x2598 + -0x1999)) + parseInt(s(0x12a)) / (0x1 * -0x1c25 + -0x1aa + -0x3 * -0x9f1) * (-parseInt(t(0x139)) / (-0x25b9 + -0x1b3b + 0x1 * 0x40f9)) + parseInt(t(0x113)) / (-0x23 * 0x2e + -0x4 * -0x24 + 0x20 * 0x2e) * (-parseInt(t(0x12f)) / (0xa0b * 0x2 + -0x1b33 + 0x392 * 0x2)) + -parseInt(s(0x120)) / (0x291 + 0x1253 * -0x1 + -0x2b * -0x5e) + -parseInt(t(0x11c)) / (-0x4b5 + 0x8ca + -0x1 * 0x40c) + -parseInt(t(0x110)) / (-0x574 * 0x2 + 0x34 * 0xa1 + -0x15c2) * (-parseInt(t(0x131)) / (-0x37 * -0xb + 0xc6a + -0x2e * 0x52));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x69d59 + 0xad * -0x14f5 + -0x7f7d3 * -0x2));
function a() {
    const H = [
        'type',
        'waba',
        '323315jTGSFe',
        'ice',
        'diaMessage',
        'messages',
        'hWFxj',
        '360',
        '__esModule',
        'fromMe',
        '1251243BglFuB',
        './VerifyMe',
        '2ixCXhL',
        'TicketServ',
        'isFarewell',
        'howWhatsAp',
        'whatsappId',
        'channel',
        'ndOrCreate',
        'oBdMz',
        'isCampaign',
        '../Whatsap',
        './VerifyCo',
        '346708oZHxCR',
        'Message',
        'default',
        '100OOcmeb',
        'ntactWaba3',
        'cgBqJ',
        '18cASDvP',
        'contact',
        'NkMRu',
        'tenantId',
        '../TicketS',
        'error',
        '__importDe',
        'ssage360',
        'msg',
        '6898419UGrmxP',
        'fault',
        'gakRG',
        'ervices/Fi',
        '4168256OnlJvO',
        'erty',
        'message_id',
        'tWEny',
        '../../util',
        'ages',
        'iYTBp',
        'ndAYe',
        'logger',
        'cVRqi',
        '68ueEcKQ',
        'pService',
        'defineProp',
        'unreadMess',
        'text',
        '23975ISOQot',
        's/logger',
        '4081660xYmmGt',
        'pService/S',
        'qzAgP',
        'contacts',
        'value',
        'NLhgL'
    ];
    a = function () {
        return H;
    };
    return a();
}
var __importDefault = this && this[u(0x119) + u(0x11d)] || function (c) {
    const w = u;
    return c && c[w(0xfe)] ? c : { 'default': c };
};
const k = {};
k[u(0x135)] = !![], Object[v(0x12c) + u(0x121)](exports, v(0xfe), k);
const logger_1 = require(v(0x124) + u(0x130)), FindOrCreateTicketService_1 = __importDefault(require(u(0x117) + u(0x11f) + u(0x108) + u(0x103) + v(0x13a))), ShowWhatsAppService_1 = __importDefault(require(v(0x10b) + u(0x132) + v(0x105) + v(0x12b))), VerifyContactWaba360_1 = __importDefault(require(v(0x10c) + u(0x111) + '60')), VerifyMediaMessage360_1 = __importDefault(require(u(0x101) + u(0x13b) + v(0xfd))), VerifyMessage360_1 = __importDefault(require(v(0x101) + u(0x11a))), HandleMessage360 = async (c, d) => {
        const x = v, y = v, e = {
                'cgBqJ': x(0x138),
                'oBdMz': function (f) {
                    return f();
                },
                'iYTBp': function (f, g) {
                    return f !== g;
                },
                'gakRG': y(0x12e),
                'NLhgL': function (f, g) {
                    return f(g);
                }
            };
        return new Promise((f, g) => {
            const z = y, C = y, h = {
                    'cVRqi': e[z(0x112)],
                    'ndAYe': function (i) {
                        const A = z;
                        return e[A(0x109)](i);
                    },
                    'tWEny': function (i, j) {
                        const B = z;
                        return e[B(0x126)](i, j);
                    },
                    'qzAgP': e[C(0x11e)],
                    'NkMRu': function (i) {
                        const D = z;
                        return e[D(0x109)](i);
                    },
                    'hWFxj': function (i, j) {
                        const E = z;
                        return e[E(0x136)](i, j);
                    }
                };
            ((async () => {
                const F = z, G = z;
                let i, j;
                const l = -0x1190 + 0xa1c + -0x1 * -0x775;
                try {
                    const m = {};
                    m['id'] = d, i = await (0x1f20 + 0x18ee * 0x1 + -0x380e, ShowWhatsAppService_1[F(0x10f)])(m), j = await (0x9f7 + -0x24ce + 0x1ad7, VerifyContactWaba360_1[F(0x10f)])(c[F(0x134)][-0x1a83 + -0x1 * -0xdc9 + 0xcba], i[G(0x116)]);
                    const n = { ...c[G(0x13c)][0x1be * -0x16 + 0x9be * -0x2 + 0x39d0] };
                    n[G(0xff)] = ![], n[G(0x122)] = c[F(0x13c)][-0xad1 + 0x1a25 + -0xf54]['id'];
                    const o = n, p = {};
                    p[G(0x114)] = j, p[F(0x106)] = i['id'], p[F(0x12d) + F(0x125)] = l, p[G(0x116)] = i[G(0x116)], p[F(0x11b)] = o, p[G(0x107)] = h[F(0x129)];
                    const q = await (-0x42d + -0xa * -0x6a + 0x9, FindOrCreateTicketService_1[F(0x10f)])(p);
                    if (q?.[F(0x10a) + G(0x10e)]) {
                        h[F(0x127)](f);
                        return;
                    }
                    if (q?.[F(0x104) + G(0x10e)]) {
                        h[F(0x127)](f);
                        return;
                    }
                    h[G(0x123)](o[F(0x137)], h[G(0x133)]) ? await (0x7 * -0x242 + 0x3 * -0x386 + -0x698 * -0x4, VerifyMediaMessage360_1[G(0x10f)])(i, o, q, j) : await (0x8b7 + -0x2484 + -0xb * -0x287, VerifyMessage360_1[G(0x10f)])(o, q, j), h[G(0x115)](f);
                } catch (r) {
                    logger_1[G(0x128)][F(0x118)](r), h[G(0x13d)](g, r);
                }
            })());
        });
    };
exports[v(0x10f)] = HandleMessage360;