'use strict';
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x4be * -0x1 + -0x76 * -0x1a + -0x699);
        let h = e[f];
        return h;
    }, b(c, d);
}
const q = b, r = b;
(function (c, d) {
    const o = b, p = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(o(0x123)) / (-0xa07 * 0x2 + -0x1 * 0x913 + 0x1d22) * (-parseInt(o(0xbd)) / (-0x1a69 + 0x995 * -0x1 + 0x2400)) + -parseInt(o(0xca)) / (-0xb2f + -0x2434 + 0x17b3 * 0x2) * (parseInt(o(0x104)) / (0x18f + -0x47 * 0x21 + 0x79c)) + -parseInt(o(0xb5)) / (0x11f * 0x11 + -0x2 * -0xd99 + -0x2e3c) + parseInt(o(0xdd)) / (0x8a8 * 0x1 + 0xb86 + -0x102 * 0x14) + parseInt(p(0x115)) / (-0xce9 * 0x3 + -0x24cd + 0x17 * 0x349) * (parseInt(o(0xfd)) / (-0x12ea + -0x63c + 0x2 * 0xc97)) + -parseInt(p(0xd7)) / (0x45d * 0x1 + 0x1 * 0xc99 + 0x7 * -0x26b) + parseInt(o(0x122)) / (-0x20f2 + -0xda5 + 0x2ea1);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x7f7a + 0x13 * -0x3e89 + -0x1ef70 * -0xa));
var __importDefault = this && this[q(0xdc) + r(0xc0)] || function (c) {
    const s = q;
    return c && c[s(0xc2)] ? c : { 'default': c };
};
function a() {
    const x = [
        '../../help',
        '152KaiCed',
        'l\x20as\x20time_',
        'ls/Ticket',
        '\x27notRespon',
        'ets\x22\x20t\x0a\x20\x20\x20',
        'sequelize',
        '\x20\x20\x20where\x20t',
        '3373116nKSSla',
        'pe\x27\x20=\x20\x27con',
        'and\x20t.\x22use',
        'seMessage\x27',
        'ations\x27->\x27',
        't\x0a\x20\x20\x20\x20t.id',
        'et:',
        '->\x27time\x27,\x20',
        '\x27configura',
        '\x20\x20\x20--confi',
        'log',
        '\x20inner\x20joi',
        'stiny\x0a\x20\x20\x20\x20',
        '\x27\x20MINUTES\x27',
        '.status,\x0a\x20',
        'iny\x27\x20as\x20de',
        't.\x22queueId',
        '480858tBdQGK',
        'igurations',
        'defineProp',
        'SAHyi',
        'g->\x27config',
        '\x22contactId',
        'value',
        'deList\x27)\x20a',
        'urations\x27,',
        '::interval',
        'ractionBot',
        'all',
        'destiny',
        '1812370ggvrqG',
        '2qvmxjT',
        'AANQk',
        'rations\x27->',
        'Message\x27->',
        'll)\x0a\x20\x20',
        ',\x0a\x20\x20\x20\x20--t.',
        's\x27\x0a\x20\x20\x20\x20and',
        's\x20config\x0a\x20',
        'teractionB',
        'wId\x22\x0a\x20\x20\x20\x20c',
        'tions\x27->\x27n',
        'queueId',
        'query',
        '>\x27configur',
        'lements(cf',
        'ponseMessa',
        ')::interva',
        'ot\x22\x20<\x20CURR',
        '7631605tDyiHE',
        'eMessage\x27-',
        'action,\x0a\x20\x20',
        'default',
        'ENT_TIMEST',
        'on_array_e',
        '\x20t.\x22lastIn',
        'ge\x27->\x27dest',
        '1554892XdrnTx',
        'at(config-',
        '\x22\x20=\x20cf.\x22te',
        'fault',
        '\x27type\x27\x20as\x20',
        '__esModule',
        'n,\x0a\x20\x20\x20\x20con',
        'ID\x20do\x20tick',
        '../../mode',
        'payload',
        'figuration',
        'n\x20\x22ChatFlo',
        '\x22,\x0a\x20\x20\x20\x20--t',
        '3WcEjOa',
        'cat(config',
        'ross\x20join\x20',
        '.\x22lastInte',
        '\x20destino.\x20',
        '.status\x20=\x20',
        '\x0a\x20\x20\x20\x20and\x20(',
        '\x27->\x27notRes',
        'update',
        '\x20\x20\x20\x20and\x20co',
        'map',
        'userId',
        'type',
        '14011047yFREAp',
        '\x0a\x20\x20\x20\x20--con',
        'otResponse',
        '.flow->\x27no',
        'ate',
        '__importDe',
        '11291106nKHCOJ',
        '\x22\x20is\x20null\x20',
        'd\x20cf.id\x20=\x20',
        '->\x27configu',
        'QueryTypes',
        'SELECT',
        '\x20\x20config->',
        '\x27pending\x27\x0a',
        'notRespons',
        'AMP\x20-\x20conc',
        'nantId\x22\x20an',
        'fig->\x27conf',
        'erty',
        'from\x20\x22Tick',
        'nfig->>\x27ty',
        '\x0a\x20\x20\x20\x20selec',
        '>\x27time\x27,\x20\x27',
        'wBsGu',
        'tenantId',
        'Ticket\x20sem',
        'Emit',
        'lateral\x20js',
        'ers/socket',
        'ticket:upd',
        'rId\x22\x20is\x20nu',
        '.\x22tenantId',
        'type_actio',
        'findByPk',
        '\x20MINUTES\x27)',
        'w\x22\x20cf\x20on\x20t',
        't.\x22chatFlo'
    ];
    a = function () {
        return x;
    };
    return a();
}
const k = {};
k[q(0x11b)] = !![], Object[r(0x117) + r(0xe9)](exports, q(0xc2), k);
const sequelize_1 = require(q(0x102)), Ticket_1 = __importDefault(require(r(0xc5) + q(0xff))), socketEmit_1 = __importDefault(require(r(0xfc) + r(0xf3) + r(0xf1))), FindUpdateTicketsInactiveChatBot = async () => {
        const t = q, u = r, e = {};
        e[t(0xee)] = t(0xf0) + u(0xce) + u(0xc4) + t(0x10a), e[t(0x118)] = function (j, l) {
            return j == l;
        }, e[u(0x124)] = u(0xf4) + t(0xdb);
        const f = e, g = u(0xec) + t(0x109) + u(0xa8) + u(0x11a) + u(0xc9) + u(0xcd) + u(0x11f) + t(0xc9) + u(0x112) + t(0x10d) + u(0x119) + t(0x11d) + t(0xd8) + u(0xcb) + u(0xe0) + t(0xa5) + t(0x100) + t(0x107) + u(0x10b) + u(0x111) + u(0xb3) + u(0xfe) + u(0xb7) + u(0xe3) + u(0x10c) + u(0xad) + u(0xd9) + u(0xa6) + u(0xc1) + t(0xf7) + t(0xc3) + t(0xe8) + t(0x116) + u(0xd1) + u(0xb2) + u(0xbc) + u(0x113) + t(0x110) + u(0xea) + t(0x101) + t(0x10f) + t(0xc8) + t(0xfa) + u(0xf6) + t(0xbf) + t(0xe7) + t(0xdf) + u(0xfb) + t(0xac) + t(0xcc) + t(0xf2) + u(0xba) + t(0xb1) + u(0xda) + u(0x11c) + u(0xaa) + t(0x103) + t(0xcf) + t(0xe4) + u(0xd3) + t(0xeb) + u(0x105) + u(0xc7) + u(0xa9) + u(0xbb) + t(0xab) + u(0xb4) + t(0xb9) + t(0xe6) + t(0xbe) + u(0xb0) + u(0x108) + u(0xe5) + u(0xb6) + u(0xed) + t(0xf9) + t(0x11e) + u(0xd0) + t(0x114) + u(0xde) + u(0x106) + t(0xf5) + u(0xa7), h = {};
        h[t(0xd6)] = sequelize_1[t(0xe1)][u(0xe2)];
        const i = await Ticket_1[t(0xb8)][u(0x102)]?.[t(0xaf)](g, h);
        await Promise[t(0x120)](i[t(0xd4)](async j => {
            const v = u, w = t;
            if (!j[v(0x121)]) {
                console[w(0x10e)](f[v(0xee)], j['id']);
                return;
            }
            const l = await Ticket_1[v(0xb8)][w(0xf8)](j['id']);
            if (l) {
                const m = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                f[w(0x118)](j[v(0xf7) + 'n'], -0x226d + 0x16c0 + -0x5d7 * -0x2) && (m[w(0xae)] = j[v(0x121)]);
                f[v(0x118)](j[w(0xf7) + 'n'], 0x7 * 0x24b + 0x1 * -0x17f5 + 0x1 * 0x7ea) && (m[w(0xd5)] = j[v(0x121)]);
                await l[w(0xd2)](m);
                const n = {};
                n[w(0xef)] = l[v(0xef)], n[w(0xd6)] = f[w(0x124)], n[v(0xc6)] = l, (-0x24b * 0x5 + -0x10c7 + -0x5a6 * -0x5, socketEmit_1[w(0xb8)])(n);
            }
        }));
    };
exports[q(0xb8)] = FindUpdateTicketsInactiveChatBot;