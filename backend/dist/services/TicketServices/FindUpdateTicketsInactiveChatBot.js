'use strict';
const q = b, r = b;
(function (c, d) {
    const o = b, p = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(o(0x119)) / (-0x21b5 + 0x1 * -0x10e4 + -0x22 * -0x17d) + -parseInt(o(0x11f)) / (-0x7d6 + -0xe75 + 0xad * 0x21) + parseInt(o(0xfc)) / (0x16 * 0x27 + -0xf * -0x299 + -0x23a * 0x13) + -parseInt(o(0x10c)) / (0x84 * 0x11 + -0x1 * -0x1413 + -0x1cd3) + parseInt(p(0x13d)) / (-0x12f9 + 0x635 + 0xcc9) * (-parseInt(o(0x100)) / (-0x4 * 0x5e6 + 0x20d2 + -0x934)) + -parseInt(p(0x12e)) / (0x1d7 * -0x12 + -0xb7d + 0x2ca2) * (parseInt(o(0x11b)) / (0x589 + 0x3c + -0x1 * 0x5bd)) + parseInt(p(0xee)) / (0x1dc2 + 0x6 * 0x13 + 0x1 * -0x1e2b) * (parseInt(p(0x145)) / (-0x1 * -0x56f + 0x1 * -0xa73 + 0x50e));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x1 * -0x189603 + 0x1e9d7 * -0x2 + -0x2b4522 * -0x1));
function a() {
    const x = [
        'gykXB',
        'rId\x22\x20is\x20nu',
        'update',
        '831510MrenDt',
        '\x20inner\x20joi',
        'Ticket\x20sem',
        '\x27->\x27notRes',
        'queueId',
        'from\x20\x22Tick',
        'type',
        'ate',
        'ls/Ticket',
        'll)\x0a\x20\x20',
        'default',
        'lements(cf',
        '->\x27time\x27,\x20',
        'at(config-',
        '\x20\x20\x20--confi',
        '\x22\x20=\x20cf.\x22te',
        'on_array_e',
        '\x22contactId',
        '::interval',
        '../../mode',
        'ge\x27->\x27dest',
        'ets\x22\x20t\x0a\x20\x20\x20',
        '\x22\x20is\x20null\x20',
        'log',
        '\x20t.\x22lastIn',
        't.\x22chatFlo',
        't.\x22queueId',
        'g->\x27config',
        'OFgsK',
        'destiny',
        'query',
        'QueryTypes',
        '\x27type\x27\x20as\x20',
        'Ulfcb',
        '\x0a\x20\x20\x20\x20and\x20(',
        'nfig->>\x27ty',
        'AMP\x20-\x20conc',
        '\x20destino.\x20',
        '.flow->\x27no',
        '../../help',
        'deList\x27)\x20a',
        '261UQKmiz',
        '>\x27time\x27,\x20\x27',
        '\x27pending\x27\x0a',
        'et:',
        'figuration',
        '\x20\x20\x20\x20and\x20co',
        'tions\x27->\x27n',
        'erty',
        '\x0a\x20\x20\x20\x20selec',
        'igurations',
        '\x27configura',
        'rations\x27->',
        'ENT_TIMEST',
        '.status\x20=\x20',
        '4335405wnSJOv',
        'sequelize',
        'SELECT',
        '>\x27configur',
        '462LzMvdm',
        'ID\x20do\x20tick',
        'notRespons',
        'stiny\x0a\x20\x20\x20\x20',
        '\x27notRespon',
        'ers/socket',
        'and\x20t.\x22use',
        'seMessage\x27',
        'l\x20as\x20time_',
        'eMessage\x27-',
        'nantId\x22\x20an',
        'w\x22\x20cf\x20on\x20t',
        '5448232faJbcP',
        '->\x27configu',
        'pe\x27\x20=\x20\x27con',
        'n,\x0a\x20\x20\x20\x20con',
        'urations\x27,',
        '\x20\x20config->',
        'iny\x27\x20as\x20de',
        'teractionB',
        't\x0a\x20\x20\x20\x20t.id',
        ',\x0a\x20\x20\x20\x20--t.',
        'n\x20\x22ChatFlo',
        'ot\x22\x20<\x20CURR',
        'all',
        '1479696QwEJaG',
        'Message\x27->',
        '11602352vMtuwY',
        '\x20\x20\x20where\x20t',
        'lateral\x20js',
        '__importDe',
        '2459406xLQTpy',
        'ations\x27->\x27',
        '__esModule',
        'ractionBot',
        'action,\x0a\x20\x20',
        'payload',
        '\x0a\x20\x20\x20\x20--con',
        'ross\x20join\x20',
        'map',
        'Emit',
        '\x27\x20MINUTES\x27',
        'tenantId',
        '\x20MINUTES\x27)',
        'ponseMessa',
        'userId',
        '7DoyGCi',
        'value',
        'defineProp',
        'findByPk',
        'cat(config',
        '.\x22tenantId',
        'fault',
        'ticket:upd',
        'fig->\x27conf',
        'wId\x22\x0a\x20\x20\x20\x20c',
        's\x20config\x0a\x20',
        '.\x22lastInte',
        'type_actio',
        ')::interva',
        '.status,\x0a\x20',
        '20810AMyVMN',
        '\x22,\x0a\x20\x20\x20\x20--t',
        's\x27\x0a\x20\x20\x20\x20and',
        'd\x20cf.id\x20=\x20',
        'otResponse'
    ];
    a = function () {
        return x;
    };
    return a();
}
var __importDefault = this && this[q(0x11e) + r(0x134)] || function (c) {
    const s = r;
    return c && c[s(0x121)] ? c : { 'default': c };
};
const k = {};
k[q(0x12f)] = !![], Object[r(0x130) + q(0xf5)](exports, r(0x121), k);
const sequelize_1 = require(r(0xfd)), Ticket_1 = __importDefault(require(q(0x158) + r(0x14d))), socketEmit_1 = __importDefault(require(r(0xec) + q(0x105) + q(0x128))), FindUpdateTicketsInactiveChatBot = async () => {
        const t = q, u = q, e = {};
        e[t(0x161)] = u(0x147) + u(0xea) + t(0x101) + t(0xf1), e[u(0x166)] = function (j, l) {
            return j == l;
        }, e[u(0x142)] = u(0x135) + u(0x14c);
        const f = e, g = u(0xf6) + u(0x114) + u(0x115) + u(0x156) + t(0x13e) + u(0x139) + t(0x122) + u(0x13e) + t(0x13c) + u(0x153) + u(0x160) + t(0x110) + t(0x125) + t(0x132) + u(0x10d) + u(0xf9) + u(0x104) + u(0x107) + t(0x151) + t(0x129) + t(0x13b) + u(0x108) + u(0x123) + u(0x111) + u(0xf8) + t(0xf4) + u(0x141) + u(0x11a) + t(0x165) + t(0x13a) + u(0x10f) + u(0x136) + u(0xf7) + t(0x148) + u(0x12c) + t(0x159) + t(0x112) + u(0x103) + u(0x14a) + t(0x15a) + u(0x146) + t(0x116) + t(0x10b) + u(0x133) + u(0x154) + u(0x10a) + t(0x140) + u(0x15e) + u(0x137) + u(0x126) + u(0x11d) + u(0x155) + t(0x150) + t(0xeb) + t(0xed) + u(0x138) + t(0x11c) + u(0xfb) + u(0xf0) + t(0xf3) + u(0xe8) + u(0x10e) + u(0xf2) + u(0x13f) + u(0x15d) + u(0x113) + t(0x117) + u(0xfa) + t(0xe9) + u(0x152) + u(0xff) + u(0x120) + t(0x102) + u(0x109) + u(0xef) + u(0x12b) + t(0x157) + u(0x167) + t(0x15f) + u(0x15b) + u(0x106) + t(0x143) + u(0x14e), h = {};
        h[t(0x14b)] = sequelize_1[u(0x164)][u(0xfe)];
        const i = await Ticket_1[t(0x14f)][u(0xfd)]?.[t(0x163)](g, h);
        await Promise[t(0x118)](i[u(0x127)](async j => {
            const v = t, w = u;
            if (!j[v(0x162)]) {
                console[w(0x15c)](f[w(0x161)], j['id']);
                return;
            }
            const l = await Ticket_1[v(0x14f)][w(0x131)](j['id']);
            if (l) {
                const m = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                f[v(0x166)](j[v(0x13a) + 'n'], -0x208d * -0x1 + 0xba0 + -0xb0b * 0x4) && (m[w(0x149)] = j[w(0x162)]);
                f[w(0x166)](j[v(0x13a) + 'n'], -0xf91 * 0x1 + 0x6e3 + 0x8b0) && (m[w(0x12d)] = j[v(0x162)]);
                await l[w(0x144)](m);
                const n = {};
                n[v(0x12a)] = l[w(0x12a)], n[w(0x14b)] = f[v(0x142)], n[w(0x124)] = l, (-0x1 * 0x2513 + 0x6f3 + 0x1e20, socketEmit_1[v(0x14f)])(n);
            }
        }));
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x12e0 + -0x1db * 0x13 + -0x3709 * -0x1);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[r(0x14f)] = FindUpdateTicketsInactiveChatBot;