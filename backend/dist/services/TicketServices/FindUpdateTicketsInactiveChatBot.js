'use strict';
const q = b, r = b;
(function (c, d) {
    const o = b, p = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(o(0x11c)) / (0x1ddc + 0x1516 + -0x32f1) + parseInt(o(0x118)) / (-0x107c + -0x1 * 0x2699 + 0x3717) * (parseInt(o(0xc7)) / (-0x40 * -0x4f + 0x1 * -0x19f9 + 0x7 * 0xe4)) + -parseInt(o(0xfa)) / (-0x1 * 0x1 + 0x5d5 * -0x6 + 0x2303 * 0x1) * (-parseInt(p(0x110)) / (-0x4 * -0x2c + -0xe7b + 0xdd0)) + parseInt(p(0xe2)) / (0x22e6 + -0xf * -0x1cd + -0x3de3) + -parseInt(o(0xcc)) / (-0x55e * -0x7 + -0xb0a + -0x1a81) + parseInt(p(0x11e)) / (0x336 * -0x3 + -0x1 * 0x2581 + 0x2f2b) * (-parseInt(o(0x107)) / (-0x26d1 + 0xbf7 + 0x1 * 0x1ae3)) + -parseInt(p(0x101)) / (-0x4e7 + 0x26d8 + 0xb * -0x315) * (parseInt(p(0x100)) / (0x1eb + -0x1 * -0x9bd + -0xb9d));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x75925 + -0x4c122 + 0x1 * 0x15e3d4));
function a() {
    const x = [
        'query',
        'w\x22\x20cf\x20on\x20t',
        'notRespons',
        'ls/Ticket',
        '\x27type\x27\x20as\x20',
        'log',
        'type_actio',
        '21215tRMDQI',
        '>\x27time\x27,\x20\x27',
        'Emit',
        'at(config-',
        'g->\x27config',
        'and\x20t.\x22use',
        '\x0a\x20\x20\x20\x20selec',
        '\x27pending\x27\x0a',
        '430706nrDLVC',
        'ractionBot',
        'otResponse',
        'userId',
        '264611DFStoM',
        'lateral\x20js',
        '256jgkgxa',
        't\x0a\x20\x20\x20\x20t.id',
        'type',
        'sequelize',
        'n\x20\x22ChatFlo',
        'fig->\x27conf',
        'from\x20\x22Tick',
        '::interval',
        'n,\x0a\x20\x20\x20\x20con',
        'et:',
        '>\x27configur',
        '\x22,\x0a\x20\x20\x20\x20--t',
        'll)\x0a\x20\x20',
        '.status\x20=\x20',
        'map',
        'eTobh',
        '\x0a\x20\x20\x20\x20--con',
        'QueryTypes',
        'all',
        'seMessage\x27',
        'ot\x22\x20<\x20CURR',
        'ENT_TIMEST',
        'iDjpO',
        '\x20\x20\x20\x20and\x20co',
        '__esModule',
        '../../help',
        'ers/socket',
        'iny\x27\x20as\x20de',
        'value',
        'on_array_e',
        '\x20t.\x22lastIn',
        'rId\x22\x20is\x20nu',
        'lements(cf',
        'rations\x27->',
        'action,\x0a\x20\x20',
        'AMP\x20-\x20conc',
        'teractionB',
        '->\x27configu',
        'ate',
        'findByPk',
        '\x0a\x20\x20\x20\x20and\x20(',
        '\x20\x20config->',
        ')::interva',
        '3naLBrX',
        '\x20\x20\x20--confi',
        'eMessage\x27-',
        'l\x20as\x20time_',
        '\x27configura',
        '5773509cYcjJe',
        '\x22\x20is\x20null\x20',
        'defineProp',
        'tenantId',
        '\x20MINUTES\x27)',
        'stiny\x0a\x20\x20\x20\x20',
        '->\x27time\x27,\x20',
        '.flow->\x27no',
        '../../mode',
        's\x20config\x0a\x20',
        'payload',
        'urations\x27,',
        'ZRGBG',
        'd\x20cf.id\x20=\x20',
        'brjiA',
        '\x27->\x27notRes',
        'deList\x27)\x20a',
        '\x22contactId',
        'update',
        'Ticket\x20sem',
        '\x20\x20\x20where\x20t',
        'pe\x27\x20=\x20\x27con',
        '7593258BpqkbO',
        'figuration',
        '\x20inner\x20joi',
        '__importDe',
        '\x22\x20=\x20cf.\x22te',
        '.\x22tenantId',
        '.status,\x0a\x20',
        'fault',
        'queueId',
        'ets\x22\x20t\x0a\x20\x20\x20',
        'ge\x27->\x27dest',
        'ID\x20do\x20tick',
        'ticket:upd',
        '.\x22lastInte',
        's\x27\x0a\x20\x20\x20\x20and',
        'erty',
        ',\x0a\x20\x20\x20\x20--t.',
        't.\x22queueId',
        'wId\x22\x0a\x20\x20\x20\x20c',
        '\x27notRespon',
        'SELECT',
        'destiny',
        'ations\x27->\x27',
        'nfig->>\x27ty',
        '1196jDouQB',
        'ross\x20join\x20',
        'igurations',
        'Message\x27->',
        'nantId\x22\x20an',
        '\x20destino.\x20',
        '377509xnGzgq',
        '180rccLyb',
        'default',
        'ponseMessa',
        't.\x22chatFlo',
        'tions\x27->\x27n',
        '\x27\x20MINUTES\x27',
        '112779fyTGhu',
        'cat(config'
    ];
    a = function () {
        return x;
    };
    return a();
}
var __importDefault = this && this[q(0xe5) + r(0xe9)] || function (c) {
    const s = r;
    return c && c[s(0xb4)] ? c : { 'default': c };
};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x2 * -0xbf1 + -0x267e + 0xf4d);
        let h = e[f];
        return h;
    }, b(c, d);
}
const k = {};
k[r(0xb8)] = !![], Object[r(0xce) + q(0xf1)](exports, r(0xb4), k);
const sequelize_1 = require(r(0x121)), Ticket_1 = __importDefault(require(r(0xd4) + r(0x10c))), socketEmit_1 = __importDefault(require(q(0xb5) + r(0xb6) + q(0x112))), FindUpdateTicketsInactiveChatBot = async () => {
        const t = q, u = q, e = {};
        e[t(0x12d)] = t(0xdf) + u(0xff) + u(0xed) + u(0x127), e[t(0xd8)] = function (j, l) {
            return j == l;
        }, e[u(0xb2)] = function (j, l) {
            return j == l;
        }, e[u(0xda)] = u(0xee) + t(0xc2);
        const f = e, g = t(0x116) + u(0x11f) + u(0xf2) + u(0xdd) + u(0x129) + u(0xef) + t(0x119) + u(0x129) + t(0xe8) + t(0xc8) + u(0x114) + u(0xd7) + t(0x12e) + t(0x108) + u(0xc1) + u(0xbd) + u(0xf5) + t(0x131) + u(0xd2) + t(0x106) + u(0xc6) + u(0xca) + t(0xbe) + t(0xc5) + t(0xcb) + t(0x105) + t(0x11a) + u(0xfd) + t(0x10d) + u(0x10f) + u(0x126) + t(0x123) + u(0xfc) + t(0xdb) + t(0x103) + u(0xec) + u(0xb7) + u(0xd1) + t(0x124) + t(0xeb) + u(0xe4) + u(0x122) + u(0x10a) + t(0xe7) + t(0xe6) + u(0xfe) + u(0xd9) + t(0x104) + u(0xf4) + u(0xfb) + u(0x11d) + t(0xb9) + u(0xbc) + t(0xd3) + t(0xdc) + u(0xd5) + u(0xe0) + t(0x12b) + t(0x117) + u(0xb3) + t(0xf9) + u(0xe1) + u(0xe3) + t(0xf0) + u(0xba) + u(0xc0) + u(0x132) + t(0xb1) + t(0xbf) + t(0x113) + t(0x128) + u(0xf8) + u(0x10b) + t(0xc9) + u(0x111) + u(0xd0) + u(0x125) + u(0xc4) + t(0xf3) + t(0xcd) + u(0x115) + t(0xbb) + u(0x12a), h = {};
        h[t(0x120)] = sequelize_1[u(0x12f)][t(0xf6)];
        const i = await Ticket_1[t(0x102)][u(0x121)]?.[u(0x109)](g, h);
        await Promise[t(0x130)](i[t(0x12c)](async j => {
            const v = u, w = t;
            if (!j[v(0xf7)]) {
                console[v(0x10e)](f[v(0x12d)], j['id']);
                return;
            }
            const l = await Ticket_1[v(0x102)][w(0xc3)](j['id']);
            if (l) {
                const m = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                f[v(0xd8)](j[w(0x10f) + 'n'], -0x1c54 + -0x4e * 0x3 + 0x1d3f * 0x1) && (m[w(0xea)] = j[v(0xf7)]);
                f[v(0xb2)](j[v(0x10f) + 'n'], 0x1 * 0x69d + 0xb9b * -0x1 + 0x500) && (m[v(0x11b)] = j[w(0xf7)]);
                await l[v(0xde)](m);
                const n = {};
                n[v(0xcf)] = l[w(0xcf)], n[v(0x120)] = f[v(0xda)], n[w(0xd6)] = l, (0x56 * 0x27 + -0x1cb3 + 0xf99, socketEmit_1[v(0x102)])(n);
            }
        }));
    };
exports[q(0x102)] = FindUpdateTicketsInactiveChatBot;