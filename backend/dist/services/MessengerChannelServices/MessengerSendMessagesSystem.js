'use strict';
function a() {
    const Z = [
        'Message\x20Up',
        'lte',
        'age\x20is\x20(te',
        'ASC',
        'ptt',
        'sendAudio',
        'public',
        'HeIPW',
        '186812AWsEIz',
        '78236ITdBHu',
        'IrBPz',
        'quotedMsg',
        'mTime',
        'EqXYj',
        'mp4',
        'ticket',
        'PmBbS',
        'path',
        'ozyur',
        'sequelize',
        'findAll',
        'domTime',
        'ls/Ticket',
        'split',
        'sended',
        'PEuxf',
        'UerOt',
        'ykNPy',
        'sharp',
        '168cFNroT',
        'fault',
        'type',
        'ers/socket',
        '__importDe',
        '343378WfqkJb',
        '../../help',
        'PlofU',
        'toBuffer',
        'audio',
        ')::\x20',
        'value',
        'applicatio',
        'messageId',
        '\x20message\x20(',
        'TILxW',
        'payload',
        'iObRR',
        's/logger',
        'SzOTj',
        'spBev',
        'mediaType',
        'join',
        'Error\x20send',
        'readFile',
        'UjieQ',
        '7209466GYlTei',
        'logger',
        'filename',
        'GxNyJ',
        'pending',
        'date\x20ok',
        'dataValues',
        'toFormat',
        'ack',
        'error',
        'file',
        'aubiL',
        'image',
        'mIhDe',
        'body',
        'id:\x20',
        'status',
        'erty',
        '80235TfyOBL',
        'rIBuH',
        '30cDgmZr',
        'default',
        'sendText',
        'closed',
        '../../util',
        'contact',
        'update',
        'where',
        'saveToFile',
        'qkFTS',
        'mediaName',
        'info',
        'WcRUR',
        'sleepRando',
        'timestamp',
        'rfhEU',
        'tenantId',
        'chat:ack',
        'bZsCX',
        '__esModule',
        'messengerI',
        'pehZO',
        'document',
        '\x20|\x20Ticket:',
        'deVVu',
        'Error\x20mess',
        'sendVideo',
        'createdAt',
        'chat',
        'fluent-ffm',
        'end',
        'fs/promise',
        'log',
        's/sleepRan',
        'jpeg',
        '.mp4',
        'nant:\x20',
        'defineProp',
        'Emit',
        'includes',
        'QiYqC',
        'video',
        'mediaUrl',
        'RARNp',
        'xDgDb',
        '498IROfMT',
        '42zKYvCA',
        'messenger',
        'peg',
        'sendFile',
        'text',
        '357654lJwhQo',
        '5998815LCNqLe',
        '../../mode',
        'sendImage',
        'ls/Message',
        'dBKnw'
    ];
    a = function () {
        return Z;
    };
    return a();
}
const S = b, T = b;
(function (c, d) {
    const Q = b, R = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(Q(0x1a1)) / (0x4e6 + 0x1f9e + -0x2483) + -parseInt(R(0x1af)) / (0xbe4 + -0x2 * -0x242 + -0x1 * 0x1066) + -parseInt(R(0x19c)) / (-0x1255 + -0x1 * -0x1607 + -0x3af * 0x1) * (parseInt(R(0x1b0)) / (-0x2e * -0x59 + -0x2078 * -0x1 + 0x562 * -0x9)) + -parseInt(Q(0x1f0)) / (-0x1f98 + 0x1 * 0x214f + 0x1b2 * -0x1) * (-parseInt(R(0x19b)) / (-0x15a1 + 0x1510 + 0x97)) + parseInt(Q(0x1c9)) / (0x1c65 + -0x1e00 + -0xd1 * -0x2) * (-parseInt(Q(0x1c4)) / (-0x2 * -0x258 + 0x1 * -0x22c7 + 0x1e1f)) + -parseInt(Q(0x1a2)) / (-0x1 * -0x25cf + -0x1991 + -0xc35) + parseInt(Q(0x1f2)) / (-0x26b3 + -0xc07 + 0x32c4) * (parseInt(Q(0x1de)) / (0x1 * 0x80e + 0xe86 + -0x1689));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x24da * 0x6a + -0x1 * -0x3ef68 + -0x5d198));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xd88 + 0x1ba9 + -0x27a * 0x10);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[S(0x1c8) + T(0x1c5)] || function (c) {
    const U = T;
    return c && c[U(0x205)] ? c : { 'default': c };
};
const q = {};
q[S(0x1cf)] = !![], Object[S(0x193) + T(0x1ef)](exports, S(0x205), q);
const promises_1 = require(S(0x211) + 's'), fluent_ffmpeg_1 = __importDefault(require(S(0x20f) + T(0x19e))), path_1 = require(S(0x1b8)), sequelize_1 = require(S(0x1ba)), sharp_1 = __importDefault(require(T(0x1c3))), socketEmit_1 = __importDefault(require(S(0x1ca) + T(0x1c7) + T(0x194))), Message_1 = __importDefault(require(T(0x1a3) + S(0x1a5))), Ticket_1 = __importDefault(require(S(0x1a3) + T(0x1bd))), logger_1 = require(T(0x1f6) + S(0x1d6)), sleepRandomTime_1 = require(S(0x1f6) + S(0x213) + S(0x1bc)), MessengerSendMessagesSystem = async (l, m) => {
        const V = T, W = S, n = {
                'aubiL': V(0x1b5),
                'qkFTS': W(0x1e7),
                'QiYqC': V(0x210),
                'RARNp': W(0x1e2),
                'SzOTj': W(0x1f7),
                'PEuxf': W(0x1b6),
                'GxNyJ': W(0x1f5),
                'UerOt': W(0x19d),
                'TILxW': W(0x1b2),
                'xDgDb': V(0x20d),
                'WcRUR': V(0x1aa),
                'IrBPz': V(0x20e),
                'ozyur': W(0x1a0),
                'iObRR': V(0x1ad),
                'rfhEU': function (t, u) {
                    return t === u;
                },
                'pehZO': V(0x1cd),
                'dBKnw': function (t, u) {
                    return t === u;
                },
                'HeIPW': V(0x1ab),
                'UjieQ': W(0x1ea),
                'bZsCX': W(0x197),
                'PmBbS': V(0x1d0) + 'n',
                'rIBuH': W(0x1e8),
                'ykNPy': V(0x208),
                'deVVu': V(0x1bf),
                'EqXYj': V(0x203),
                'PlofU': V(0x1a7) + W(0x1e3),
                'spBev': function (t, u) {
                    return t(u);
                },
                'mIhDe': function (t, u) {
                    return t(u);
                }
            }, o = { [sequelize_1['Op']['is']]: null }, p = {
                'fromMe': !![],
                'messageId': o,
                'status': n[V(0x199)],
                [sequelize_1['Op']['or']]: [
                    { 'scheduleDate': { [sequelize_1['Op'][W(0x1a8)]]: new Date() } },
                    { 'scheduleDate': { [sequelize_1['Op']['is']]: null } }
                ]
            }, r = await Message_1[W(0x1f3)][W(0x1bb)]({
                'where': p,
                'include': [
                    n[V(0x1d7)],
                    {
                        'model': Ticket_1[V(0x1f3)],
                        'as': n[V(0x1c0)],
                        'where': {
                            'tenantId': m,
                            [sequelize_1['Op']['or']]: {
                                'status': { [sequelize_1['Op']['ne']]: n[W(0x1e1)] },
                                'isFarewellMessage': !![]
                            },
                            'channel': n[W(0x1c1)],
                            'whatsappId': l['id']
                        },
                        'include': [n[V(0x1d7)]]
                    },
                    {
                        'model': Message_1[V(0x1f3)],
                        'as': n[V(0x1d3)],
                        'include': [n[W(0x1d7)]]
                    }
                ],
                'order': [[
                        n[W(0x19a)],
                        n[V(0x1fe)]
                    ]]
            });
        let s;
        for (const t of r) {
            const u = t, {ticket: v} = u, w = v[V(0x1f7)][W(0x206) + 'd'];
            try {
                if (![
                        n[W(0x1b1)],
                        n[V(0x1b9)]
                    ][V(0x195)](u[W(0x1d9)]) && u[V(0x1fc)]) {
                    const D = (0x291 * 0x2 + -0xdd * -0x1 + 0x133 * -0x5, path_1[W(0x1da)])(__dirname, '..', '..', '..', n[V(0x1d5)]), E = (-0x61d * -0x3 + -0x1d7c + 0xb25, path_1[W(0x1da)])(D, u[V(0x1fc)]), F = await (0xdfb + 0x9b * 0x2b + -0x2804, promises_1[W(0x1dc)])(E);
                    console[W(0x212)](E);
                    if (n[V(0x201)](u[W(0x1d9)], n[W(0x207)]) || n[W(0x1a6)](u[V(0x1d9)], n[V(0x1ae)])) {
                        const G = u[V(0x1fc)][W(0x1be)]('.'), H = (-0x2509 + 0x3fe + -0x301 * -0xb, path_1[W(0x1da)])(D, G[-0xb * -0x33f + -0x6ad * 0x1 + 0x1d08 * -0x1] + W(0x191));
                        await new Promise((J, K) => {
                            const X = V, Y = W;
                            (-0x1 * -0xf19 + -0x73a * 0x3 + 0x151 * 0x5, fluent_ffmpeg_1[X(0x1f3)])(E)[X(0x1e5)](n[X(0x1e9)])['on'](n[X(0x1fb)], L => K(L))['on'](n[Y(0x196)], () => J(!![]))[Y(0x1fa)](H);
                        });
                        const I = await (-0x2677 * 0x1 + -0x18b3 + -0x1ea * -0x21, promises_1[W(0x1dc)])(H);
                        s = await l[V(0x1ac)](w, I);
                    }
                    if (n[V(0x201)](u[W(0x1d9)], n[V(0x1dd)])) {
                        const J = await (0xe52 + 0x2 * 0xd64 + 0x1 * -0x291a, sharp_1[V(0x1f3)])(F)[W(0x214)]()[V(0x1cc)](), K = {};
                        K[W(0x1e0)] = u[W(0x1fc)], s = await l[V(0x1a4)](w, J, K);
                    }
                    if (n[W(0x1a6)](u[W(0x1d9)], n[W(0x204)])) {
                        const L = {};
                        L[V(0x1e0)] = u[W(0x1fc)], s = await l[W(0x20c)](w, F, L);
                    }
                    if ([
                            n[W(0x1b7)],
                            n[V(0x1f1)],
                            n[W(0x1c2)]
                        ][V(0x195)](u[W(0x1d9)])) {
                        const M = {};
                        M[W(0x1e0)] = u[W(0x1fc)], s = await l[V(0x19f)](w, F, M);
                    }
                }
                [
                    n[W(0x1b1)],
                    n[W(0x1b9)]
                ][V(0x195)](u[V(0x1d9)]) && !u[W(0x1fc)] && (s = await l[W(0x1f4)](w, u[V(0x1ec)]));
                const x = {
                    ...u,
                    ...s
                };
                x['id'] = u['id'], x[V(0x200)] = u[V(0x200)], x[W(0x1d1)] = s[V(0x1d1)], x[W(0x1ee)] = n[V(0x20a)], x[V(0x1e6)] = 0x2;
                const y = x, z = { ...y }, A = {};
                A['id'] = u['id'];
                const B = {};
                B[V(0x1f9)] = A, await Message_1[W(0x1f3)][W(0x1f8)](z, B);
                const C = {};
                C[W(0x202)] = v[W(0x202)], C[W(0x1c6)] = n[W(0x1b4)], C[W(0x1d4)] = { ...u[V(0x1e4)] }, C[W(0x1d4)][W(0x198)] = u[V(0x198)], C[W(0x1d4)]['id'] = u['id'], C[W(0x1d4)][W(0x200)] = u[V(0x200)], C[W(0x1d4)][V(0x1d1)] = s[V(0x1d1)], C[W(0x1d4)][W(0x1ee)] = n[V(0x20a)], C[W(0x1d4)][W(0x1e6)] = 0x2, (-0x8f * 0x1 + 0x24 * 0xa7 + -0x1 * 0x16ed, socketEmit_1[W(0x1f3)])(C), logger_1[V(0x1df)][W(0x1fd)](n[W(0x1cb)]), await (-0x64 + 0x1b * 0xc1 + 0x13f7 * -0x1, sleepRandomTime_1[V(0x1ff) + W(0x1b3)])({
                    'minMilliseconds': n[W(0x1d8)](Number, 0x1 * 0x152b + -0x10c5 + 0x272 * -0x1),
                    'maxMilliseconds': n[W(0x1eb)](Number, 0x1a86 + 0x67 * 0x26 + -0x1a * 0x162)
                });
            } catch (N) {
                const O = u['id'], P = u[W(0x1b6)]['id'];
                logger_1[W(0x1df)][V(0x1e7)](V(0x20b) + W(0x1a9) + V(0x192) + m + (V(0x209) + '\x20') + P + ')'), logger_1[W(0x1df)][V(0x1e7)](W(0x1db) + W(0x1d2) + W(0x1ed) + O + V(0x1ce) + N);
            }
        }
    };
exports[S(0x1f3)] = MessengerSendMessagesSystem;