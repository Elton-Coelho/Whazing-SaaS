'use strict';
const C = b, D = b;
(function (c, d) {
    const A = b, B = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(A(0xe9)) / (-0xf * -0x45 + -0x1f44 + 0x19a * 0x11) + parseInt(B(0xda)) / (-0x1ab6 + 0x2706 + 0x276 * -0x5) + -parseInt(A(0xe7)) / (0x15a + 0x31d * -0x3 + -0x100 * -0x8) * (-parseInt(A(0xee)) / (-0x1717 + -0x23c + -0x1957 * -0x1)) + -parseInt(A(0x11e)) / (-0x21ff + -0x1 * 0x25b6 + -0x47ba * -0x1) + -parseInt(A(0xdc)) / (-0x2004 + -0x8ec + -0x31 * -0xd6) * (-parseInt(A(0x105)) / (-0x24fc + -0x9dc + -0x1 * -0x2edf)) + -parseInt(A(0x11f)) / (-0x21a1 + -0x1b02 + 0x1 * 0x3cab) * (-parseInt(A(0xd8)) / (-0x1afc + 0x6bf * -0x2 + 0x1 * 0x2883)) + -parseInt(B(0x107)) / (0x1 * -0x2b3 + 0x34 * -0x1c + 0x86d);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x29 * 0x2d65 + -0xb038 * 0x5 + 0xf325f));
var __importDefault = this && this[C(0x142) + D(0x158)] || function (c) {
    const E = D;
    return c && c[E(0x133)] ? c : { 'default': c };
};
const k = {};
k[C(0x144)] = !![], Object[D(0xfd) + D(0xec)](exports, C(0x133), k);
function a() {
    const S = [
        'Bot',
        'sCQJM',
        'wServices/',
        'timestamp',
        './Messenge',
        'KoObu',
        '2351511iXMsjs',
        'ervices/Fi',
        '125804qqyYgG',
        'WpkQo',
        '526956YaGndb',
        'object',
        'ice',
        '/messenger',
        'PvGXi',
        'RPpSm',
        'vices/help',
        'vXWFf',
        '../TicketS',
        'logger',
        'UMUMB',
        '81609KamMtQ',
        's/logger',
        '122940wTrwac',
        'location',
        'icket',
        'erty',
        'gxgct',
        '4WPKaaT',
        'krgWO',
        'YDjdw',
        'TwxqI',
        'CNBqz',
        'iHZOX',
        'qEbtR',
        'YXezf',
        'gWGnP',
        'nrfLJ',
        'STISP',
        'contact',
        'iqVBs',
        'read',
        'XdCSN',
        'defineProp',
        'BusinessHo',
        'YdbOO',
        'fbPageId',
        'mid',
        'sage',
        'erBot',
        'JWGOO',
        '35NJYgal',
        'OQZBp',
        '5134500DSZrFS',
        'default',
        'qWiPm',
        'iaMessage',
        'GpiSn',
        'kLaTa',
        'LvYVZ',
        'message',
        'MDnne',
        'channel',
        'CFbCe',
        'vEGaM',
        'pVbjJ',
        'unreadMess',
        'page',
        '../ChatFlo',
        '../../libs',
        'shift',
        'urs',
        'NkFzi',
        'bgFHg',
        'rMarkRead',
        'messaging',
        '530450LCALjr',
        '8MjKNyX',
        'OZgQF',
        'video',
        'ers/Verify',
        'rShowChann',
        'tenantId',
        'XXzQC',
        'ages',
        'CDSMg',
        'fxFBa',
        'jQXJU',
        'rVerifyMed',
        'dyIcQ',
        'HSHul',
        'whatsappId',
        'VerifyStep',
        '../WbotSer',
        'JAYhf',
        'arszI',
        'image',
        '__esModule',
        'length',
        'YrpdG',
        'BXYdo',
        'TicketServ',
        'vdiux',
        'echcj',
        'hOAxM',
        'OMMaZ',
        '../../util',
        'entry',
        'evVrO',
        'messenger',
        'fallback',
        'isFarewell',
        '__importDe',
        'WzXYW',
        'value',
        'error',
        'audio',
        'ewrQA',
        'sender',
        'nQCTN',
        'bcUrX',
        'Message',
        'KPmDS',
        'rVerifyMes',
        'pswgP',
        'KHeiG',
        'tact',
        'file',
        'VBypq',
        'text',
        'sChatFlowT',
        'getMesseng',
        'tOCBY',
        'msg',
        'fault',
        'mLkQZ',
        'isCampaign',
        'yldkR',
        'HoPcI',
        'type',
        'MccxI',
        'ndOrCreate',
        'rVerifyCon',
        'fTEGW',
        'bivxg'
    ];
    a = function () {
        return S;
    };
    return a();
}
const logger_1 = require(C(0x13c) + C(0xe8)), FindOrCreateTicketService_1 = __importDefault(require(C(0xe4) + C(0xd9) + C(0x15f) + C(0x137) + C(0xde))), messengerBot_1 = require(D(0x117) + C(0xdf) + C(0x163)), MessengerVerifyContact_1 = __importDefault(require(C(0xd6) + C(0x160) + C(0x150))), MessengerVerifyMessage_1 = __importDefault(require(C(0xd6) + C(0x14d) + D(0x102))), MessengerVerifyMediaMessage_1 = __importDefault(require(C(0xd6) + D(0x12a) + C(0x10a))), VerifyStepsChatFlowTicket_1 = __importDefault(require(C(0x116) + D(0xd4) + C(0x12e) + D(0x154) + C(0xeb))), MessengerMarkRead_1 = __importDefault(require(D(0xd6) + D(0x11c))), MessengerShowChannel_1 = __importDefault(require(D(0xd6) + D(0x123) + 'el')), VerifyBusinessHours_1 = __importDefault(require(D(0x12f) + D(0xe2) + C(0x122) + D(0xfe) + D(0x119))), getMessageType = d => {
        const F = C, G = C, e = {};
        e[F(0xf6)] = function (i, j) {
            return i > j;
        }, e[F(0x15c)] = G(0x153), e[F(0xdb)] = function (i, j) {
            return i === j;
        }, e[G(0x13b)] = F(0x132), e[G(0x11a)] = G(0x146), e[G(0x164)] = F(0x121), e[G(0x147)] = G(0xea), e[G(0xef)] = function (i, j) {
            return i === j;
        }, e[F(0xe1)] = F(0x151), e[G(0xf1)] = F(0x140);
        const f = e, {attachments: g} = d, h = g && f[G(0xf6)](g[F(0x134)], 0x1 * -0x18eb + -0x19be + 0x32a9);
        if (d[G(0x153)] && !h)
            return f[G(0x15c)];
        if (h && f[G(0xdb)](g[0x1fb1 + -0xb1 * 0x4 + -0x1ced][F(0x15d)], f[G(0x13b)]))
            return f[F(0x13b)];
        if (h && f[F(0xdb)](g[-0x156c + 0x2 * 0xc7 + -0x9ef * -0x2][F(0x15d)], f[F(0x11a)]))
            return f[F(0x11a)];
        if (h && f[F(0xdb)](g[-0x4d5 * 0x5 + -0x1e89 * 0x1 + 0x36b2][G(0x15d)], f[F(0x164)]))
            return f[F(0x164)];
        if (h && f[G(0xdb)](g[-0x11 * -0x11b + 0x1b6 + -0x1481][G(0x15d)], f[G(0x147)]))
            return f[F(0x147)];
        if (h && f[G(0xef)](g[-0x17 * -0x105 + -0x722 + -0x1051][F(0x15d)], f[G(0xe1)]))
            return f[F(0xe1)];
        if (h && f[F(0xef)](g[-0xc61 + 0x1 * -0x35f + 0xfc0][F(0x15d)], f[F(0xf1)]))
            return f[F(0xf1)];
    }, MessengerHandleMessage = async c => {
        const H = C, I = D, d = {
                'XdCSN': function (e) {
                    return e();
                },
                'CFbCe': function (e, f) {
                    return e > f;
                },
                'bivxg': H(0x153),
                'LvYVZ': function (e, f) {
                    return e === f;
                },
                'mLkQZ': H(0x132),
                'KPmDS': H(0x146),
                'OZgQF': I(0x121),
                'evVrO': H(0xea),
                'CNBqz': function (e, f) {
                    return e === f;
                },
                'nrfLJ': H(0x151),
                'iHZOX': H(0x140),
                'yldkR': function (e, f) {
                    return e !== f;
                },
                'YDjdw': H(0x14e),
                'KHeiG': function (e, f) {
                    return e !== f;
                },
                'UMUMB': H(0x115),
                'JAYhf': function (e, f) {
                    return e !== f;
                },
                'fTEGW': H(0xe0),
                'vEGaM': I(0xd7),
                'bcUrX': function (e, f) {
                    return e(f);
                },
                'GpiSn': I(0x13f),
                'MccxI': function (e, f) {
                    return e === f;
                },
                'VBypq': I(0x12b),
                'tOCBY': I(0xf5),
                'jQXJU': H(0x149),
                'vdiux': function (e) {
                    return e();
                },
                'iqVBs': function (e, f) {
                    return e !== f;
                },
                'STISP': H(0x136),
                'vXWFf': I(0xf4),
                'JWGOO': I(0x125),
                'hOAxM': I(0x11b)
            };
        return new Promise((e, f) => {
            const g = {
                'kLaTa': function (h, i) {
                    const J = b;
                    return d[J(0x14a)](h, i);
                }
            };
            ((async () => {
                const M = b, O = b, h = {
                        'pVbjJ': function (m) {
                            const K = b;
                            return d[K(0xfc)](m);
                        },
                        'WzXYW': function (m, n) {
                            const L = b;
                            return d[L(0x111)](m, n);
                        },
                        'YrpdG': d[M(0x162)],
                        'OQZBp': function (m, n) {
                            const N = M;
                            return d[N(0x10d)](m, n);
                        },
                        'fxFBa': d[O(0x159)],
                        'CDSMg': function (m, n) {
                            const P = O;
                            return d[P(0x10d)](m, n);
                        },
                        'arszI': d[M(0x14c)],
                        'HSHul': d[M(0x120)],
                        'MDnne': d[M(0x13e)],
                        'qWiPm': function (m, n) {
                            const Q = M;
                            return d[Q(0xf2)](m, n);
                        },
                        'gxgct': d[O(0xf7)],
                        'YdbOO': function (m, n) {
                            const R = M;
                            return d[R(0x10d)](m, n);
                        },
                        'echcj': d[O(0xf3)]
                    };
                let i, j;
                const l = 0x21c + -0x1e5d + -0x2 * -0xe21;
                try {
                    if (d[M(0x15b)](d[M(0xf0)], d[M(0xf0)]))
                        g[O(0xe5)][O(0x145)](h), g[O(0x10c)](i, j);
                    else {
                        if (d[O(0x14f)](c[M(0xdd)], d[M(0xe6)]))
                            return;
                        const n = c[O(0x13d)][O(0x118)](), o = n?.[M(0x11d)][O(0x118)](), p = {};
                        p[O(0x100)] = n['id'], i = await (-0x20e1 + -0x2085 + 0x4166, MessengerShowChannel_1[M(0x108)])(p);
                        if (!i)
                            return;
                        const q = await (0x2040 + -0x1640 + -0x20 * 0x50, messengerBot_1[O(0x155) + O(0x103)])(i['id']);
                        if (!o?.[M(0x10e)] && o[O(0xfb)]) {
                            if (d[O(0x130)](d[M(0x161)], d[M(0x112)])) {
                                (-0x1bcc + 0x18be + 0x30e, MessengerMarkRead_1[O(0x108)])(o, i[O(0x124)]);
                                return;
                            } else {
                                h[M(0x113)](s);
                                return;
                            }
                        }
                        j = await (0x7de * -0x4 + 0x33b * -0x1 + 0x22b3, MessengerVerifyContact_1[O(0x108)])(o[M(0x148)], q, i[O(0x124)]);
                        const r = {
                                ...o,
                                'type': d[O(0x14a)](getMessageType, o[O(0x10e)]),
                                'fromMe': ![],
                                'body': o?.[O(0x10e)]?.[M(0x153)] || '',
                                'timestamp': o[O(0xd5)],
                                'message_id': o[M(0x10e)][O(0x101)]
                            }, s = {};
                        s[O(0xf9)] = j, s[M(0x12d)] = i['id'], s[O(0x114) + O(0x126)] = l, s[M(0x124)] = i[M(0x124)], s[O(0x157)] = r, s[M(0x110)] = d[M(0x10b)];
                        const t = await (0x2367 + -0x1942 + 0x31 * -0x35, FindOrCreateTicketService_1[O(0x108)])(s);
                        if (t?.[M(0x15a) + O(0x14b)]) {
                            if (d[O(0x15e)](d[M(0x152)], d[O(0x156)])) {
                                const {attachments: w} = e, x = w && h[M(0x143)](w[M(0x134)], -0x2 * 0xcb9 + 0x6 * -0x4cd + 0x3640);
                                if (f[M(0x153)] && !x)
                                    return h[M(0x135)];
                                if (x && h[M(0x106)](w[0x1f7d + -0x1 * -0x21f5 + -0x4172][O(0x15d)], h[O(0x128)]))
                                    return h[O(0x128)];
                                if (x && h[O(0x127)](w[-0x110f * 0x2 + 0x1534 + 0x675 * 0x2][O(0x15d)], h[O(0x131)]))
                                    return h[O(0x131)];
                                if (x && h[O(0x106)](w[0x2637 + 0x1e03 + -0x1aa * 0x29][O(0x15d)], h[M(0x12c)]))
                                    return h[M(0x12c)];
                                if (x && h[M(0x127)](w[0x2 * -0x6ee + 0x269c + -0x30 * 0x84][M(0x15d)], h[O(0x10f)]))
                                    return h[O(0x10f)];
                                if (x && h[O(0x109)](w[-0x1 * 0x13b6 + -0x58b + 0x1941][O(0x15d)], h[M(0xed)]))
                                    return h[M(0xed)];
                                if (x && h[M(0xff)](w[0x1 * -0x13ae + 0x2 * 0xb5d + -0x3 * 0x104][O(0x15d)], h[M(0x139)]))
                                    return h[M(0x139)];
                            } else {
                                d[O(0xfc)](e);
                                return;
                            }
                        }
                        if (t?.[M(0x141) + M(0x14b)]) {
                            if (d[O(0x10d)](d[M(0x129)], d[O(0x129)])) {
                                d[O(0x138)](e);
                                return;
                            } else {
                                const x = {};
                                return x[M(0x108)] = j, g && h[O(0x133)] ? i : x;
                            }
                        }
                        if (d[M(0xfa)](r[O(0x15d)], d[M(0x162)])) {
                            if (d[M(0x130)](d[O(0xf8)], d[M(0xe3)]))
                                await (-0xbf * -0x1f + -0x1 * -0x76b + -0x1e8c, MessengerVerifyMediaMessage_1[M(0x108)])(i, r, t, j);
                            else {
                                (-0x6df + 0xe * 0xca + -0x42d, f[O(0x108)])(g, h[M(0x124)]);
                                return;
                            }
                        } else {
                            if (d[O(0x14f)](d[M(0x104)], d[M(0x13a)]))
                                await (-0xe1 + 0x615 * 0x5 + -0x1d88, MessengerVerifyMessage_1[M(0x108)])(r, t, j);
                            else {
                                h[M(0x113)](s);
                                return;
                            }
                        }
                        await (-0x1f7f + 0x1c5d + 0x322 * 0x1, VerifyStepsChatFlowTicket_1[M(0x108)])(r, t), await (0x8d7 + 0x12fb + -0x1bd2, VerifyBusinessHours_1[M(0x108)])(r, t), d[M(0x138)](e);
                    }
                } catch (z) {
                    logger_1[O(0xe5)][O(0x145)](z), d[M(0x14a)](f, z);
                }
            })());
        });
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x51 * -0x22 + 0x83 * -0x2b + 0xc13);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[D(0x108)] = MessengerHandleMessage;