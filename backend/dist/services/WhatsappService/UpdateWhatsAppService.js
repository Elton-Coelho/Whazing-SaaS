'use strict';
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x137 * -0x5 + 0x162a + -0x1bd0);
        let h = e[f];
        return h;
    }, b(c, d);
}
const a5 = b, a6 = b;
(function (c, d) {
    const a3 = b, a4 = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(a3(0x9e)) / (0x121d * 0x1 + -0x187d + 0x661) * (parseInt(a3(0x6f)) / (0x1516 + 0x17b9 * 0x1 + -0x2ccd)) + parseInt(a4(0x99)) / (0x48f * -0x7 + -0x13c + 0x2128) * (-parseInt(a3(0xbc)) / (-0x136 * -0x11 + 0x1 * 0x26b3 + -0x3b45 * 0x1)) + -parseInt(a4(0x8b)) / (0x23ea + 0x13 * 0x11f + -0x3932) + parseInt(a4(0xcb)) / (-0x173 * 0x1 + 0x3a * -0x17 + 0x6af) + parseInt(a4(0xd7)) / (0x9c2 + -0x16de + 0xd23) + -parseInt(a4(0xb1)) / (-0x5cf * 0x5 + -0x7b7 * -0x3 + 0x5ee) + parseInt(a3(0xc5)) / (-0x1f * -0xb5 + -0x2650 + -0x1 * -0x106e);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x2b9e5 + 0x90c70 + -0x6e9e5));
function a() {
    const am = [
        'findOne',
        'cRjfG',
        'where',
        'ls/Whatsap',
        'ram',
        'message',
        'value',
        'AYReD',
        'Gzqrc',
        'ZZlOv',
        'VbOER',
        'GKctC',
        'create',
        'enumerable',
        '2278344whyiPn',
        'prototype',
        '../../erro',
        'tenantId',
        'default',
        'writable',
        'lutLe',
        'chatFlowId',
        'txidF',
        'Whatsapp',
        'JAtKo',
        '852cKBFgf',
        'YFJYr',
        'yup',
        'hpkkj',
        'TRFcQ',
        'fault',
        'session',
        'tokenTeleg',
        'SIgao',
        '8758098PmEFTz',
        '__importDe',
        'string',
        'rTUEX',
        'muvZO',
        'CTvTi',
        '2119998POuSXS',
        'EBotN',
        'importmess',
        'KJGIR',
        'UnPxa',
        'object',
        'defineProp',
        'WUHEA',
        '../../mode',
        'CpRrl',
        'DcFrO',
        'eLoQn',
        '559909eGnwYm',
        'get',
        'fbPageId',
        'tMKUY',
        'update',
        'erty',
        'tokenAPI',
        '__setModul',
        '__createBi',
        'bVlLA',
        '__importSt',
        'isDefault',
        'name',
        'configurab',
        'ages',
        'nding',
        'PDgFh',
        'tCgle',
        'not',
        'BVRoP',
        'ssage',
        '377018JfzQDr',
        'cuXKW',
        'sequelize',
        'hasOwnProp',
        'boolean',
        'getOwnProp',
        'ser',
        'JLbRn',
        'LQIwD',
        'shape',
        'type',
        'is_open_ia',
        '0|2|1|3|4',
        'LFkNh',
        'BSdDF',
        'BgrGl',
        'oldDefault',
        'call',
        'split',
        'UwQfW',
        'status',
        '__esModule',
        'instagramK',
        'SEtHO',
        'GKmDo',
        'P_FOUND',
        'whatsapp',
        'yotbI',
        '3016375zVzihs',
        'nZqxc',
        'farewellMe',
        'fGaxq',
        'queue_tran',
        'isActive',
        'instagramU',
        'ptor',
        'Ofzuh',
        'ertyDescri',
        'TjFVy',
        'ERR_NO_WAP',
        'dQqes',
        '0|2|4|3|1',
        '159WkaVio',
        'userId',
        'rs/AppErro',
        'bpdwp',
        'min',
        '1DppKaM',
        'eDefault',
        'validate',
        'queueId',
        'wabaBSP'
    ];
    a = function () {
        return am;
    };
    return a();
}
var __createBinding = this && this[a5(0xdf) + a6(0xe6)] || (Object[a5(0xaf)] ? function (d, e, f, g) {
        const a7 = a6, a8 = a6, h = {};
        h[a7(0x8c)] = function (l, n) {
            return l !== n;
        }, h[a8(0xcc)] = a7(0x86), h[a8(0xd4)] = function (l, n) {
            return l === n;
        }, h[a7(0x7e)] = function (l, n) {
            return l in n;
        }, h[a8(0xad)] = a8(0xd8), h[a8(0xce)] = function (l, n) {
            return l !== n;
        }, h[a7(0xd6)] = a8(0x7d), h[a8(0xcf)] = a8(0xbf);
        const i = h;
        if (i[a8(0xd4)](g, undefined))
            g = f;
        var j = Object[a8(0x74) + a7(0x94) + a8(0x92)](e, f);
        if (!j || (i[a7(0x7e)](i[a8(0xad)], j) ? !e[a7(0x84)] : j[a8(0xb6)] || j[a8(0xe4) + 'le'])) {
            if (i[a7(0xce)](i[a7(0xd6)], i[a8(0xcf)]))
                j = {
                    'enumerable': !![],
                    'get': function () {
                        const a9 = a7, aa = a7;
                        return i[a9(0x8c)](i[aa(0xcc)], i[aa(0xcc)]) ? e[f] : e[f];
                    }
                };
            else {
                if (i[a7(0xd4)](f, l))
                    e = n;
                d[p] = q[r];
            }
        }
        Object[a7(0xd1) + a8(0xdc)](d, g, j);
    } : function (d, e, f, g) {
        const ab = a5, ac = a6, h = {};
        h[ab(0x70)] = function (j, l) {
            return j === l;
        };
        const i = h;
        if (i[ab(0x70)](g, undefined))
            g = f;
        d[g] = e[f];
    }), __setModuleDefault = this && this[a5(0xde) + a6(0x9f)] || (Object[a6(0xaf)] ? function (e, f) {
        const ad = a6, ae = a6, g = {};
        g[ad(0x87)] = ad(0xb5);
        const h = g, i = {};
        i[ad(0xb0)] = !![], i[ae(0xa9)] = f, Object[ae(0xd1) + ae(0xdc)](e, h[ae(0x87)], i);
    } : function (d, e) {
        const af = a6, ag = a5, f = {};
        f[af(0xc4)] = af(0xb5);
        const g = f;
        d[g[ag(0xc4)]] = e;
    }), __importStar = this && this[a6(0xe1) + 'ar'] || function (c) {
        const ah = a5, ai = a6, d = {
                'GKctC': ah(0x98),
                'tMKUY': function (i, j, l) {
                    return i(j, l);
                },
                'AYReD': function (i, j) {
                    return i != j;
                },
                'WUHEA': function (i, j) {
                    return i !== j;
                },
                'JAtKo': ai(0xb5),
                'lutLe': function (i, j, l, m) {
                    return i(j, l, m);
                }
            }, e = d[ai(0xae)][ai(0x81)]('|');
        let f = -0x1 * 0x1931 + 0x1adf * 0x1 + -0x1ae;
        while (!![]) {
            switch (e[f++]) {
            case '0':
                if (c && c[ah(0x84)])
                    return c;
                continue;
            case '1':
                return g;
            case '2':
                var g = {};
                continue;
            case '3':
                d[ai(0xda)](__setModuleDefault, g, c);
                continue;
            case '4':
                if (d[ah(0xaa)](c, null)) {
                    for (var h in c)
                        if (d[ai(0xd2)](h, d[ah(0xbb)]) && Object[ah(0xb2)][ai(0x72) + ah(0xdc)][ai(0x80)](c, h))
                            d[ai(0xb7)](__createBinding, g, c, h);
                }
                continue;
            }
            break;
        }
    }, __importDefault = this && this[a5(0xc6) + a5(0xc1)] || function (c) {
        const aj = a5;
        return c && c[aj(0x84)] ? c : { 'default': c };
    };
const G = {};
G[a6(0xa9)] = !![], Object[a5(0xd1) + a5(0xdc)](exports, a5(0x84), G);
const Yup = __importStar(require(a5(0xbe))), sequelize_1 = require(a5(0x71)), AppError_1 = __importDefault(require(a6(0xb3) + a6(0x9b) + 'r')), Whatsapp_1 = __importDefault(require(a6(0xd3) + a6(0xa6) + 'p')), UpdateWhatsAppService = async ({
        whatsappData: l,
        whatsappId: m,
        tenantId: n
    }) => {
        const ak = a5, al = a5, o = {
                'cRjfG': ak(0x7b),
                'Gzqrc': function (K, L) {
                    return K != L;
                },
                'DcFrO': function (K, L) {
                    return K !== L;
                },
                'TRFcQ': al(0xb5),
                'txidF': function (K, L, M, N) {
                    return K(L, M, N);
                },
                'yotbI': function (K, L, M) {
                    return K(L, M);
                },
                'UwQfW': al(0x96) + al(0x88),
                'dQqes': ak(0x6d),
                'bpdwp': function (K, L) {
                    return K !== L;
                },
                'tCgle': ak(0x77),
                'muvZO': function (K, L) {
                    return K === L;
                },
                'YFJYr': al(0xe7),
                'rTUEX': al(0xe0),
                'Ofzuh': function (K, L) {
                    return K === L;
                },
                'fGaxq': al(0x95),
                'ZZlOv': al(0x7c),
                'JLbRn': al(0xca)
            }, p = Yup[al(0xd0)]()[al(0x78)]({
                'name': Yup[ak(0xc7)]()[ak(0x9d)](0x1763 + 0x7d0 * 0x5 + -0x3e71 * 0x1),
                'isDefault': Yup[ak(0x73)]()
            }), {
                name: q,
                status: r,
                isDefault: s,
                session: t,
                tokenTelegram: u,
                instagramUser: v,
                instagramKey: w,
                isActive: x,
                type: y,
                wabaBSP: z,
                tokenAPI: A,
                fbPageId: B,
                farewellMessage: C,
                chatFlowId: D,
                is_open_ia: E,
                queue_transf: F,
                queueId: H,
                userId: I,
                importmessages: J
            } = l;
        try {
            if (o[al(0xd5)](o[al(0x97)], o[al(0x97)]))
                e[al(0x85) + 'ey'] = f;
            else {
                const L = {};
                L[ak(0xe3)] = q, L[al(0x83)] = r, L[ak(0xe2)] = s, await p[ak(0xa0)](L);
                let M = null;
                if (s) {
                    if (o[ak(0x9c)](o[al(0xe8)], o[al(0xe8)])) {
                        const U = o[al(0xa4)][ak(0x81)]('|');
                        let V = 0x14bc + -0x1ecf + 0xa13 * 0x1;
                        while (!![]) {
                            switch (U[V++]) {
                            case '0':
                                if (n && o[ak(0x84)])
                                    return p;
                                continue;
                            case '1':
                                if (o[ak(0xab)](q, null)) {
                                    for (var W in r)
                                        if (o[al(0xd5)](W, o[al(0xc0)]) && s[al(0xb2)][al(0x72) + ak(0xdc)][ak(0x80)](t, W))
                                            o[ak(0xb9)](u, X, v, W);
                                }
                                continue;
                            case '2':
                                var X = {};
                                continue;
                            case '3':
                                o[ak(0x8a)](w, X, x);
                                continue;
                            case '4':
                                return X;
                            }
                            break;
                        }
                    } else {
                        const U = { [sequelize_1['Op'][ak(0xe9)]]: m }, V = {};
                        V[ak(0xe2)] = !![], V[ak(0xb4)] = n, V['id'] = U;
                        const W = {};
                        W[ak(0xa5)] = V, M = await Whatsapp_1[ak(0xb5)][al(0xa3)](W);
                        if (M) {
                            if (o[ak(0xc9)](o[ak(0xbd)], o[ak(0xbd)])) {
                                const X = {};
                                X[ak(0xe2)] = ![], await M[al(0xdb)](X);
                            } else
                                throw new U[(ak(0xb5))](o[ak(0x82)], 0x1 * 0xec3 + 0x41f + -0x8a7 * 0x2);
                        }
                    }
                }
                const N = {};
                N['id'] = m, N[al(0xb4)] = n;
                const O = {};
                O[al(0xa5)] = N;
                const P = await Whatsapp_1[al(0xb5)][ak(0xa3)](O);
                if (!P) {
                    if (o[al(0xc9)](o[al(0xc8)], o[ak(0xc8)]))
                        throw new AppError_1[(ak(0xb5))](o[al(0x82)], -0x232 + 0x1601 + 0x123b * -0x1);
                    else
                        throw new e[(ak(0xb5))](f[al(0xa8)]);
                }
                const Q = {};
                Q[al(0xe3)] = q, Q[al(0x83)] = r, Q[ak(0xc2)] = t, Q[al(0xe2)] = s, Q[ak(0xc3) + ak(0xa7)] = u, Q[al(0x91) + al(0x75)] = v, Q[ak(0x90)] = x, Q[ak(0x79)] = y, Q[ak(0xa2)] = z, Q[ak(0xdd)] = A, Q[al(0xd9)] = B, Q[al(0x8d) + al(0x6e)] = C, Q[al(0xb8)] = D, Q[ak(0x7a)] = E, Q[ak(0x8f) + 'sf'] = F, Q[al(0xa1)] = H, Q[ak(0x9a)] = I, Q[al(0xcd) + al(0xe5)] = J;
                const R = Q;
                if (w) {
                    if (o[ak(0x93)](o[al(0x8e)], o[ak(0x8e)]))
                        R[al(0x85) + 'ey'] = w;
                    else {
                        const a1 = {};
                        a1[ak(0xb0)] = !![], a1[ak(0xd8)] = function () {
                            return O[Q];
                        }, f = a1;
                    }
                }
                await P[ak(0xdb)](R);
                const S = {};
                return S[al(0x89)] = P, S[ak(0x7f) + al(0xba)] = M, S;
            }
        } catch (a1) {
            if (o[al(0xc9)](o[ak(0xac)], o[al(0x76)]))
                e[o[ak(0xc0)]] = f;
            else
                throw new AppError_1[(al(0xb5))](a1[al(0xa8)]);
        }
    };
exports[a5(0xb5)] = UpdateWhatsAppService;