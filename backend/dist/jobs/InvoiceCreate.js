'use strict';
function a() {
    const E = [
        'YYYY-MM-DD',
        'rwhlU',
        '591632zCXQIu',
        'OYagU',
        'every',
        'Tenant',
        '20965YmuTmO',
        'ldHqx',
        'CMMpS',
        'create',
        'Invoices',
        'like',
        'format',
        'updatedAt',
        'fy\x20Invoice',
        '__importDe',
        '475712OIQyQp',
        'XVQVy',
        'error',
        '6995140wSpgOS',
        'detail',
        '7654yxpMZp',
        'removeOnCo',
        'name',
        'fault',
        'repeat',
        'jobId',
        'DD/MM/yyyy',
        'InvoiceCre',
        'mplete',
        'Finalized\x20',
        'createdAt',
        'iated',
        'wHUzo',
        'diff',
        'removeOnFa',
        'xRkDx',
        '28EUptvc',
        'asDays',
        'value',
        '42MjNnFZ',
        'default',
        'duration',
        '__esModule',
        'qbLYl',
        'logger',
        'Verify\x20Inv',
        'Plan',
        'ogger',
        '../utils/l',
        'findAll',
        'tenantId',
        'defineProp',
        '1DeNPJy',
        'sequelize',
        'erty',
        '582270iVfIkq',
        'message',
        'planId',
        'map',
        'status',
        'open',
        'findByPk',
        '../models/',
        'oices\x20Init',
        'ate',
        'count',
        'info',
        'moment',
        'dueDate',
        'Error\x20Veri',
        '2138067qCRmAd',
        'uTiSb'
    ];
    a = function () {
        return E;
    };
    return a();
}
const x = b, y = b;
(function (c, d) {
    const v = b, w = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(v(0xfc)) / (-0x4 * 0x2a1 + -0x24b * 0x1 + 0xcd0) * (parseInt(w(0xdc)) / (0x336 + 0x231 + -0x565)) + parseInt(w(0xff)) / (-0x2661 + -0x534 + -0x1e * -0x174) + parseInt(v(0x112)) / (0xb4e + -0x23f3 + 0x6b * 0x3b) + -parseInt(w(0x116)) / (-0x17d7 + -0x35e + 0x1b3a) * (-parseInt(w(0xef)) / (0xb9b * -0x1 + 0x1c64 + -0x10c3)) + parseInt(v(0xec)) / (0x1692 + 0x3b * 0x52 + -0x2971) * (parseInt(v(0xd7)) / (-0x2 * -0x1271 + 0x254 * -0xa + -0x12 * 0xc1)) + parseInt(v(0x10e)) / (0x1fb4 + -0xa0 * 0x27 + -0x74b) + -parseInt(w(0xda)) / (-0x21ef + 0x1 * -0x16d3 + 0x38cc);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x3c8b8 + -0x1f576 + -0x7ee71 * -0x1));
var __importDefault = this && this[x(0xd6) + x(0xdf)] || function (c) {
    const z = x;
    return c && c[z(0xf2)] ? c : { 'default': c };
};
const k = {};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x4fc + -0x1 * -0x115 + -0x2 * 0x2a1);
        let h = e[f];
        return h;
    }, b(c, d);
}
k[x(0xee)] = !![], Object[x(0xfb) + y(0xfe)](exports, y(0xf2), k);
const Tenant_1 = __importDefault(require(x(0x106) + x(0x115))), Plan_1 = __importDefault(require(y(0x106) + y(0xf6))), logger_1 = require(y(0xf8) + y(0xf7)), moment_1 = __importDefault(require(x(0x10b))), Invoices_1 = __importDefault(require(y(0x106) + x(0xd1))), sequelize_1 = require(y(0xfd)), l = {};
l[y(0x114)] = (0x2502 * -0x1 + -0x6c9 + -0xd * -0x363) * (0x220 * 0x8 + -0x1fe3 + 0x12cb);
const m = {};
m[y(0xdd) + y(0xe4)] = !![], m[y(0xea) + 'il'] = ![], m[y(0xe1)] = y(0xe3) + x(0x108), m[y(0xe0)] = l, exports[y(0xf0)] = {
    'key': y(0xe3) + x(0x108),
    'options': m,
    async 'handle'() {
        const A = y, B = x, e = {};
        e[A(0xcf)] = B(0xe2), e[B(0x111)] = function (g, h) {
            return g < h;
        }, e[B(0x10f)] = function (g, h) {
            return g + h;
        }, e[A(0xeb)] = A(0x110), e[A(0xe8)] = function (g, h) {
            return g === h;
        }, e[A(0xf3)] = B(0x104), e[A(0x117)] = B(0xf5) + B(0x107) + A(0xe7), e[B(0xd8)] = B(0xe5) + A(0xd1), e[B(0x113)] = A(0x10d) + A(0xd5) + 's';
        const f = e;
        try {
            logger_1[A(0xf4)][A(0x10a)](f[B(0x117)]);
            const g = await Tenant_1[A(0xf0)][A(0xf9)]();
            g[A(0x102)](async h => {
                const C = A, D = B, {dueDate: i} = h, j = (-0x267e + 0x1 * -0x251e + 0x3 * 0x1934, moment_1[C(0xf0)])(i)[D(0xd3)](), n = (0x243d + 0x1 * -0x10e7 + -0x1356, moment_1[D(0xf0)])()[C(0xd3)](), o = (0x2 * -0x12cb + 0x5c9 * -0x5 + -0x4283 * -0x1, moment_1[C(0xf0)])((0x1c7d + 0x1 * -0xcb3 + -0xfca * 0x1, moment_1[C(0xf0)])())[D(0xd3)](f[D(0xcf)]), p = (-0x14ee + -0x5 * 0x45b + -0x179 * -0x1d, moment_1[C(0xf0)])(i)[D(0xd3)](f[D(0xcf)]), q = (0x1 * -0xe2a + -0x4 * 0x3b + 0xf16, moment_1[C(0xf0)])(p, f[C(0xcf)])[D(0xe9)]((-0x26b * 0x8 + 0x3 * -0x3d1 + 0x1ecb, moment_1[C(0xf0)])(o, f[D(0xcf)])), r = moment_1[C(0xf0)][C(0xf1)](q)[D(0xed)]();
                if (f[C(0x111)](r, 0x16f6 + 0x139d + -0x2a7f)) {
                    const s = await Plan_1[D(0xf0)][C(0x105)](h[D(0x101)]), t = await Invoices_1[D(0xf0)][D(0x109)]({
                            'where': {
                                'tenantId': h['id'],
                                'dueDate': { [sequelize_1['Op'][C(0xd2)]]: f[C(0x10f)]((0x1cde + -0x1846 + -0x498, moment_1[C(0xf0)])(i)[D(0xd3)](f[C(0xeb)]), '%') }
                            }
                        });
                    if (f[C(0xe8)](t, 0x324 * 0x6 + 0x1733 + -0xe5 * 0x2f)) {
                        const u = {};
                        u[D(0xdb)] = s[D(0xde)], u[D(0x103)] = f[C(0xf3)], u[D(0xee)] = s[C(0xee)], u[D(0xd4)] = n, u[D(0xe6)] = n, u[D(0x10c)] = j, u[C(0xfa)] = h['id'], await Invoices_1[D(0xf0)][D(0xd0)](u);
                    }
                }
            }), logger_1[B(0xf4)][B(0x10a)](f[B(0xd8)]);
        } catch (h) {
            const i = {};
            i[A(0x100)] = f[A(0x113)], i[B(0xd9)] = h, logger_1[B(0xf4)][A(0xd9)](i);
            throw new Error(h);
        }
    }
};