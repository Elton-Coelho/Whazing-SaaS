'use strict';
const J = b, K = b;
(function (c, d) {
    const H = b, I = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(H(0x1c6)) / (-0x37 * 0x73 + 0x1 * -0x21c + 0x1ad2 * 0x1) + parseInt(I(0x1b9)) / (-0x35a * -0x2 + 0x1c98 + -0x234a * 0x1) * (-parseInt(I(0x1c7)) / (0x125c + -0x177 * 0xa + -0x1 * 0x3b3)) + -parseInt(H(0x215)) / (-0x67 * -0x1a + 0x1c2d * 0x1 + -0x1 * 0x269f) + parseInt(I(0x1ba)) / (0x10b9 + -0x182b + 0x777) + parseInt(H(0x20b)) / (-0x747 + 0x1e52 + -0x53 * 0x47) * (parseInt(H(0x1f4)) / (0x76 * 0x21 + -0x13 * 0x1c5 + -0x24e * -0x8)) + parseInt(H(0x1cb)) / (0x2089 + 0x2701 + 0xa2 * -0x71) + parseInt(I(0x1b6)) / (-0x1 * 0x64f + -0x1525 + -0x1 * -0x1b7d) * (parseInt(H(0x201)) / (0x5f4 + -0x1d80 + 0xbcb * 0x2));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x23ae7 + -0x11093 * 0x1 + 0x26 * 0x23a2));
function a() {
    const O = [
        's/MessageS',
        '../service',
        'vice',
        'attempts',
        'hookMessag',
        'name',
        'update',
        'kkePt',
        'eStatus',
        'NUMBER_NOT',
        '../libs/Qu',
        'CreateCont',
        'ervices/Cr',
        'actService',
        '../libs/wb',
        'delay',
        '__esModule',
        'WebHooksAP',
        'ticket',
        'pp.net',
        'ages',
        'ack',
        'where',
        'mplete',
        'value',
        'SendMessag',
        'erty',
        'Contact',
        'whatsappId',
        '220381fhmZFP',
        'pending',
        'apiConfig',
        '_FOUND',
        'groupConta',
        'AppError',
        'payload',
        'gPjdF',
        'split',
        'number',
        'eateMessag',
        'type',
        'default',
        '10ESmUfl',
        'error\x20sess',
        'OeXtg',
        'add',
        'fault',
        'rvices/Fin',
        'msg',
        '../models/',
        'removeOnCo',
        'defineProp',
        '24KwShCd',
        'channel',
        'aovVy',
        'contact',
        'ot-baileys',
        'externalKe',
        'WmSvD',
        'icketServi',
        'url',
        'tServices/',
        '868216QmEFRg',
        'status',
        'jid',
        'tenantId',
        'eAPI',
        './../servi',
        'wElLc',
        '143046SAxtcV',
        'arHHR',
        'authToken',
        '2406hyaEAY',
        '940515swHvMT',
        'eue',
        'ion',
        '@$s.whatsa',
        'urlMessage',
        'ibTQi',
        '__importDe',
        'error',
        'ces/Contac',
        'whatsapp',
        'API',
        'onWhatsApp',
        '27235yvuIqo',
        '231iUmfYG',
        'Status',
        'sendType',
        'getWbot',
        '665816YdKzXI',
        'body',
        '../errors/',
        'removeOnFa',
        'eSystemSer',
        'sessionId',
        'unreadMess',
        'findOne',
        'exists',
        'dOrCreateT',
        'messageId',
        's/TicketSe'
    ];
    a = function () {
        return O;
    };
    return a();
}
var __importDefault = this && this[J(0x1c0) + J(0x205)] || function (c) {
    const L = J;
    return c && c[L(0x1e7)] ? c : { 'default': c };
};
const x = {};
x[K(0x1ef)] = !![], Object[K(0x20a) + J(0x1f1)](exports, J(0x1e7), x);
const Queue_1 = __importDefault(require(J(0x1e1) + J(0x1bb))), FindOrCreateTicketService_1 = __importDefault(require(K(0x1d8) + J(0x1d6) + K(0x206) + J(0x1d4) + K(0x212) + 'ce')), CreateMessageSystemService_1 = __importDefault(require(K(0x1d8) + K(0x1d7) + K(0x1e3) + J(0x1fe) + K(0x1cf) + K(0x1d9))), wbot_baileys_1 = require(K(0x1e5) + K(0x20f)), Contact_1 = __importDefault(require(J(0x208) + J(0x1f2))), CreateContactService_1 = __importDefault(require(K(0x1b4) + K(0x1c2) + J(0x214) + K(0x1e2) + J(0x1e4))), AppError_1 = __importDefault(require(J(0x1cd) + J(0x1f9))), y = {};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x2a9 * 0x9 + 0xe89 + 0xb1c);
        let h = e[f];
        return h;
    }, b(c, d);
}
y[K(0x1e6)] = 0x1f4, y[K(0x1da)] = 0x1, y[J(0x209) + K(0x1ee)] = !![], y[K(0x1ce) + 'il'] = ![], exports[J(0x200)] = {
    'key': J(0x1f0) + K(0x219),
    'options': y,
    async 'handle'({data: m}) {
        const M = J, N = K, n = {};
        n[M(0x211)] = function (q, r) {
            return q == r;
        }, n[N(0x1de)] = M(0x1e0) + N(0x1f7), n[N(0x1bf)] = M(0x1c3), n[M(0x1b5)] = N(0x1c4), n[M(0x1b7)] = N(0x1f5), n[N(0x20d)] = N(0x202) + N(0x1bc), n[N(0x203)] = N(0x1db) + N(0x1df), n[M(0x1fb)] = M(0x1e8) + 'I';
        const o = n, p = (-0x269f + 0x196 + 0x2509, wbot_baileys_1[M(0x1ca)])(m[N(0x1d0)]);
        try {
            const q = m[M(0x1fd)] + (M(0x1bd) + N(0x1ea)), r = await p[M(0x1c5)](q);
            if (o[N(0x211)](r[-0x17c6 + -0xd8a + 0x2550][N(0x1d3)], ![]))
                throw new AppError_1[(M(0x200))](o[N(0x1de)], 0x1b5f + -0x3 * -0x411 + -0x25fe);
            m[N(0x1fd)] = r[-0x8 * -0x4bf + 0x9d * 0x2c + -0x40f4][N(0x217)][N(0x1fc)]('@')[-0x1 * -0x71 + -0x1d1b + -0x1caa * -0x1];
            const s = {};
            s[N(0x1fd)] = m[M(0x1fd)], s[N(0x218)] = m[M(0x218)];
            const t = {};
            t[N(0x1ed)] = s;
            let u = await Contact_1[M(0x200)][M(0x1d2)](t);
            if (!u) {
                const C = {};
                C[N(0x1dc)] = m[M(0x1fd)], C[N(0x1fd)] = m[N(0x1fd)], C[M(0x218)] = m[N(0x218)], u = await (0x1 * 0xb53 + -0x1e2b * 0x1 + 0x12d8, CreateContactService_1[N(0x200)])(C);
            }
            const v = {};
            v[N(0x20e)] = u, v[M(0x1f3)] = p['id'], v[M(0x1d1) + N(0x1eb)] = 0x0, v[N(0x218)] = m[N(0x218)], v[N(0x1f8) + 'ct'] = undefined, v[N(0x20c)] = o[M(0x1bf)];
            const w = await (-0xc86 + 0x489 + 0x7fd, FindOrCreateTicketService_1[N(0x200)])(v), z = {};
            z[N(0x207)] = m, z[N(0x218)] = m[M(0x218)], z[N(0x1e9)] = w, z[N(0x1c9)] = o[N(0x1b5)], z[M(0x216)] = o[M(0x1b7)], await (0xbf5 + -0x13f3 * 0x1 + 0x7fe, CreateMessageSystemService_1[N(0x200)])(z);
            const A = { ...m[N(0x1f6)] };
            A[N(0x210) + 'y'] = m[M(0x210) + 'y'];
            const B = {};
            B[N(0x1f6)] = A, await w[N(0x1dd)](B);
        } catch (D) {
            const E = {};
            E[N(0x1ec)] = -(0xfbd + 0x4f * 0x37 + -0x20b4), E[M(0x1cc)] = m[M(0x1cc)], E[M(0x1d5)] = '', E[N(0x1fd)] = m[M(0x1fd)], E[M(0x210) + 'y'] = m[N(0x210) + 'y'], E[N(0x1c1)] = o[M(0x20d)], E[N(0x1ff)] = o[N(0x203)], E[M(0x1b8)] = m[M(0x1b8)];
            const F = E;
            if (m?.[N(0x1f6)]?.[N(0x1be) + N(0x1c8)]) {
                const G = {};
                G[M(0x213)] = m[M(0x1f6)][N(0x1be) + M(0x1c8)], G[N(0x1ff)] = F[M(0x1ff)], G[N(0x1fa)] = F, Queue_1[M(0x200)][M(0x204)](o[M(0x1fb)], G);
            }
            throw new Error(D);
        }
    }
};